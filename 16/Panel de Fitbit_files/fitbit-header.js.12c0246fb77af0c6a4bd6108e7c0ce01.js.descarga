!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(module,exports,__webpack_require__){(function(){!function(){var e=window.define||function(e){return e()};e("fitbit-widget-dropdown",["require","jquery"],function(e){var t="function"==typeof e,i=t?e("jquery"):window.jQuery;if(!t){var n=window.fitbit||{};if(n.modules=n.modules||{},i.isFunction(n.modules.dropdown))return n}var a=function(e,t){return e&&e.length?(this.catalyst=i(e).first(),this.catalystActiveClass=null,this.anchorPoint="left below",this.elements={root:null,content:null},this.fadeEffectDuration=200,this.hideDelay=500,this.isManualShowEnabled=!1,this.isMouseBoundaryDetectionEnabled=!0,this.isMouseCursorInsideDropdown=!1,this.namespace={css:"module-dd",event:"module-dropdown-"},this.positionOffset={x:0,y:0},void this._initialize(t)):this._throwError("no catalyst specified")};return a.prototype={cancelHide:function(){this.hideTimer&&(clearTimeout(this.hideTimer),this.hideTimer=null)},clear:function(){i(this.elements.content).empty()},destroy:function(){this._fireCustomEvent("destroy"),this.catalyst.off("."+this.namespace.event);for(var e in this.elements)i(e).remove();this.catalyst.removeData("module-dropdown-id");var t=this;delete t},getCatalystPosition:function(){return this._getCatalystPosition()},getRootElement:function(){return this.elements.root&&this.elements.root.length?this.elements.root.get(0):null},hide:function(){var e=i(this.elements.root);e.is(":animated")||(this._fireCustomEvent("beforeHide"),this.catalyst.removeClass(this.catalystActiveClass),e.fadeOut(this.fadeEffectDuration,i.proxy(function(){this._fireCustomEvent("hide")},this)))},isVisible:function(){try{return this.elements.root.is(":visible")}catch(e){return!1}},render:function(e,t){return e?(t||this.clear(),i(this.elements.content).append(e),this._fireCustomEvent("render"),!0):!1},setPosition:function(){this._setPosition()},setPositionOffset:function(e,t){i.isNumeric(e)&&(this.positionOffset.x=e),i.isNumeric(t)&&(this.positionOffset.y=t)},show:function(){this.setPosition(),this._fireCustomEvent("beforeShow"),this.catalyst.addClass(this.catalystActiveClass),i(this.elements.root).fadeIn(this.fadeEffectDuration,i.proxy(function(){this._fireCustomEvent("show")},this))},subscribe:function(e,t,n){return"string"==typeof e&&i.isFunction(t)?(this.catalyst[n===!0?"one":"on"](this._getEventName(e),t),!0):!1},toggle:function(){return this._toggle()},unsubscribe:function(e,t){return"string"==typeof e?(this.catalyst.off(this._getEventName(e),t),!0):!1},_applyConfiguration:function(e){if(i.isPlainObject(e)){var t=function(e){return"string"==typeof e&&!/^\s*$/.test(e)};t(e.anchorPoint)&&(this.anchorPoint=e.anchorPoint),t(e.className)&&(this.customClassName=e.className),t(e.catalystActiveClass)&&(this.catalystActiveClass=e.catalystActiveClass),i.isNumeric(e.hideDelay)&&(this.hideDelay=e.hideDelay>0?e.hideDelay:0),(i.isNumeric(e.fadeEffectDuration)||e.fadeEffectDuration===!1)&&(this.fadeEffectDuration=e.fadeEffectDuration),this.isMouseBoundaryDetectionEnabled=!(e.mouseBoundaryDetectionEnabled===!1),this.isManualShowEnabled=e.manualShowEnabled===!0}},_buildStructure:function(){var e=i.proxy(function(e){var t=this.namespace.css;return"string"==typeof e&&(t+="-"+e.replace(/\s+/,"-")),t},this),t=i("<div/>").addClass(e()).hide();this.customClassName&&t.addClass(this.customClassName);var n=i("<div/>").addClass(e("content")).appendTo(t);t.appendTo(document.body),i.extend(this.elements,{root:t,content:n})},_defineAnchorPointStrategies:function(){this.anchorPointStrategies||(this.anchorPointStrategies={below:i.proxy(function(){var e=this._getCatalystPosition();return{top:parseInt(this.positionOffset.y+e.y+e.h,10)+"px",bottom:"auto"}},this),left:i.proxy(function(){var e=this._getCatalystPosition();return{left:parseInt(this.positionOffset.x+e.x,10)+"px",right:"auto"}},this),right:i.proxy(function(){var e=this._getCatalystPosition();return{right:parseInt(i(window).width()-(0-this.positionOffset.x+e.x+e.w),10)+"px",left:"auto"}},this)})},_fireCustomEvent:function(e){this.catalyst.trigger(this._getEventName(e),this)},_getCatalystPosition:function(){var e=this.catalyst,t=e.offset();return{x:Math.round(t.left),y:Math.round(t.top),w:Math.round(e.outerWidth(!1)),h:Math.round(e.outerHeight(!1))}},_getEventName:function(e){return"string"==typeof e||i.isArray(e)?e+"."+this.namespace.event:null},_getEventNames:function(e){return e&&("string"==typeof e&&(e=[e]),i.each(e,i.proxy(function(t,i){e[t]=this._getEventName(i)},this))),e&&e.length?e:null},_getPositionByAnchorPoint:function(){var e=this.anchorPoint.split(" ");2!==e.length&&this._throwError("anchor point is invalid");var t={};return i.each(e,i.proxy(function(e,n){i.extend(t,this.anchorPointStrategies[n]())},this)),i.isEmptyObject(t)&&this._throwError("could not determine dropdown position from anchor point"),t},_getUniqueId:function(){return i.isNumeric(this.uniqueId)||(this.uniqueId=parseInt(Math.random().toString().replace(".",""),10)),this.uniqueId},_initialize:function(e){var t=this._getUniqueId();this.namespace.event+=t,this._applyConfiguration(e),this._buildStructure(),i(this.catalyst).add(this.elements.root).data("module-dropdown-id",t),this._initializeCatalyst(),this._initializeMouseBoundaryDetection(),this._defineAnchorPointStrategies(),i(window).on(this._getEventName("resize"),i.proxy(function(){this.isVisible()&&(this._fireCustomEvent("hideAfterResize"),this.hide())},this)),i(document.body).on(this._getEventName("click"),i.proxy(function(e){var t=i(e.target);!this.isVisible()||t.closest(this.catalyst).length||t.closest("."+this.namespace.css).length||this.hide()},this)),this._fireCustomEvent("initialize")},_initializeCatalyst:function(){this.isManualShowEnabled||this.isMouseDelayedShowEnabled||this.catalyst.on(this._getEventName("click"),i.proxy(function(e){e&&e.preventDefault(),this._toggle()},this))},_initializeMouseBoundaryDetection:function(){this.isMouseBoundaryDetectionEnabled&&this.elements.root.on(this._getEventName("mouseenter"),i.proxy(function(){this._setMouseCursorInsideDropdown(!0)},this)).on(this._getEventName("mouseleave"),i.proxy(function(){this._setMouseCursorInsideDropdown(!1),!this.hideTimer&&this.isVisible()&&(this.hideTimer=setTimeout(i.proxy(function(){this.isMouseCursorInsideDropdown||this.hide(),this.cancelHide()},this),this.hideDelay))},this))},_setMouseCursorInsideDropdown:function(e){e?(this.isMouseCursorInsideDropdown=!0,this._fireCustomEvent("mouseEnterDropdown")):(this.isMouseCursorInsideDropdown=!1,this._fireCustomEvent("mouseLeaveDropdown"))},_setPosition:function(){this.elements.root.css(this._getPositionByAnchorPoint()),this._fireCustomEvent("position")},_throwError:function(e){console.log("Fitbit Dropdown Widget : "+(e||"unknown error"))},_toggle:function(){return this.isVisible()?(this.hide(),!1):(this.show(),!0)}},t?a:(n.modules.dropdown=a,n)})}(),/**
	 * @license 
	 * jQuery Tools @VERSION Overlay - Overlay base. Extend it.
	 * 
	 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
	 * 
	 * http://flowplayer.org/tools/overlay/
	 *
	 * Since: March 2008
	 * Date: @DATE 
	 */
function(e){function t(t,a){var s,r,l,o=this,c=t.add(o),h=e(window),u=e.tools.expose&&(a.mask||a.expose),d=Math.random().toString().slice(10);u&&("string"==typeof u&&(u={color:u}),u.closeOnClick=u.closeOnEsc=!1);var p=a.target||t.attr("rel");if(r=p?e(p):null||t,!r.length)throw"Could not find Overlay: "+p;t&&-1==t.index(r)&&t.click(function(e){return o.load(e),e.preventDefault()}),e.extend(o,{load:function(t){if(o.isOpened())return o;var s=n[a.effect];if(!s)throw'Overlay: cannot find effect : "'+a.effect+'"';if(a.oneInstance&&e.each(i,function(){this.close(t)}),t=t||e.Event(),t.type="onBeforeLoad",c.trigger(t),t.isDefaultPrevented())return o;l=!0,u&&e(r).expose(u);var p=a.top,f=a.left,g=r.outerWidth(!0),m=r.outerHeight(!0);return"string"==typeof p&&(p="center"==p?Math.max((h.height()-m)/2,0):parseInt(p,10)/100*h.height()),"center"==f&&(f=Math.max((h.width()-g)/2,0)),s[0].call(o,{top:p,left:f},function(){l&&(t.type="onLoad",c.trigger(t))}),u&&a.closeOnClick&&e.mask.getMask().one("click",o.close),a.closeOnClick&&e(document).bind("click."+d,function(t){e(t.target).parents(r).length||o.close(t)}),a.closeOnEsc&&e(document).bind("keydown."+d,function(e){27==e.keyCode&&o.close(e)}),o},close:function(t){return o.isOpened()?(t=t||e.Event(),t.type="onBeforeClose",c.trigger(t),t.isDefaultPrevented()?void 0:(l=!1,n[a.effect][1].call(o,function(){t.type="onClose",c.trigger(t)}),e(document).unbind("click."+d).unbind("keydown."+d),u&&e.mask.close(),o)):o},getOverlay:function(){return r},getTrigger:function(){return t},getClosers:function(){return s},isOpened:function(){return l},getConf:function(){return a}}),e.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(t,i){e.isFunction(a[i])&&e(o).bind(i,a[i]),o[i]=function(t){return t&&e(o).bind(i,t),o}}),s=r.find(a.close||".close"),s.length||a.close||(s=e('<a class="close"></a>'),r.prepend(s)),s.click(function(e){o.close(e)}),a.load&&o.load()}e.tools=e.tools||{version:"@VERSION"},e.tools.overlay={addEffect:function(e,t,i){n[e]=[t,i]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!0,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var i=[],n={};e.tools.overlay.addEffect("default",function(t,i){var n=this.getConf(),a=e(window);n.fixed||(t.top+=a.scrollTop(),t.left+=a.scrollLeft()),t.position=n.fixed?"fixed":"absolute",this.getOverlay().css(t).fadeIn(n.speed,i)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)}),e.fn.overlay=function(n){var a=this.data("overlay");return a?a:(e.isFunction(n)&&(n={onBeforeLoad:n}),n=e.extend(!0,{},e.tools.overlay.conf,n),this.each(function(){a=new t(e(this),n),i.push(a),e(this).data("overlay",a)}),n.api?a:this)}}(jQuery),define("jqtools-overlay",function(){}),/**
	 * @license 
	 * jQuery Tools @VERSION / Expose - Dim the lights
	 * 
	 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
	 * 
	 * http://flowplayer.org/tools/toolbox/expose.html
	 *
	 * Since: Mar 2010
	 * Date: @DATE 
	 */
function(e){function t(){if(e.browser.msie){var t=e(document).height(),i=e(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>t-i?i:t]}return[e(document).width(),e(document).height()]}function i(t){return t?t.call(e.mask):void 0}e.tools=e.tools||{version:"@VERSION"};var n;n=e.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var a,s,r,l,o;e.mask={load:function(c,h){if(r)return this;"string"==typeof c&&(c={color:c}),c=c||l,l=c=e.extend(e.extend({},n.conf),c),a=e("#"+c.maskId),a.length||(a=e("<div/>").attr("id",c.maskId),e("body").append(a));var u=t();return a.css({position:"absolute",top:0,left:0,width:u[0],height:u[1],display:"none",opacity:c.startOpacity,zIndex:c.zIndex}),c.color&&a.css("backgroundColor",c.color),i(c.onBeforeLoad)===!1?this:(c.closeOnEsc&&e(document).bind("keydown.mask",function(t){27==t.keyCode&&e.mask.close(t)}),c.closeOnClick&&a.bind("click.mask",function(t){e.mask.close(t)}),e(window).bind("resize.mask",function(){e.mask.fit()}),h&&h.length&&(o=h.eq(0).css("zIndex"),e.each(h,function(){var t=e(this);/relative|absolute|fixed/i.test(t.css("position"))||t.css("position","relative")}),s=h.css({zIndex:Math.max(c.zIndex+1,"auto"==o?0:o)})),a.css({display:"block"}).fadeTo(c.loadSpeed,c.opacity,function(){e.mask.fit(),i(c.onLoad),r="full"}),r=!0,this)},close:function(){if(r){if(i(l.onBeforeClose)===!1)return this;a.fadeOut(l.closeSpeed,function(){i(l.onClose),s&&s.css({zIndex:o}),r=!1}),e(document).unbind("keydown.mask"),a.unbind("click.mask"),e(window).unbind("resize.mask")}return this},fit:function(){if(r){var e=t();a.css({width:e[0],height:e[1]})}},getMask:function(){return a},isLoaded:function(e){return e?"full"==r:r},getConf:function(){return l},getExposed:function(){return s}},e.fn.mask=function(t){return e.mask.load(t),this},e.fn.expose=function(t){return e.mask.load(t,this),this}}(jQuery),define("jqtools-toolbox-expose",function(){}),function(){var e=this,t=e._,i=Array.prototype,n=Object.prototype,a=Function.prototype,s=i.push,r=i.slice,l=i.concat,o=n.toString,c=n.hasOwnProperty,h=Array.isArray,u=Object.keys,d=a.bind,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):e._=p,p.VERSION="1.7.0";var f=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,a){return e.call(t,i,n,a)};case 4:return function(i,n,a,s){return e.call(t,i,n,a,s)}}return function(){return e.apply(t,arguments)}};p.iteratee=function(e,t,i){return null==e?p.identity:p.isFunction(e)?f(e,t,i):p.isObject(e)?p.matches(e):p.property(e)},p.each=p.forEach=function(e,t,i){if(null==e)return e;t=f(t,i);var n,a=e.length;if(a===+a)for(n=0;a>n;n++)t(e[n],n,e);else{var s=p.keys(e);for(n=0,a=s.length;a>n;n++)t(e[s[n]],s[n],e)}return e},p.map=p.collect=function(e,t,i){if(null==e)return[];t=p.iteratee(t,i);for(var n,a=e.length!==+e.length&&p.keys(e),s=(a||e).length,r=Array(s),l=0;s>l;l++)n=a?a[l]:l,r[l]=t(e[n],n,e);return r};var g="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var a,s=e.length!==+e.length&&p.keys(e),r=(s||e).length,l=0;if(arguments.length<3){if(!r)throw new TypeError(g);i=e[s?s[l++]:l++]}for(;r>l;l++)a=s?s[l]:l,i=t(i,e[a],a,e);return i},p.reduceRight=p.foldr=function(e,t,i,n){null==e&&(e=[]),t=f(t,n,4);var a,s=e.length!==+e.length&&p.keys(e),r=(s||e).length;if(arguments.length<3){if(!r)throw new TypeError(g);i=e[s?s[--r]:--r]}for(;r--;)a=s?s[r]:r,i=t(i,e[a],a,e);return i},p.find=p.detect=function(e,t,i){var n;return t=p.iteratee(t,i),p.some(e,function(e,i,a){return t(e,i,a)?(n=e,!0):void 0}),n},p.filter=p.select=function(e,t,i){var n=[];return null==e?n:(t=p.iteratee(t,i),p.each(e,function(e,i,a){t(e,i,a)&&n.push(e)}),n)},p.reject=function(e,t,i){return p.filter(e,p.negate(p.iteratee(t)),i)},p.every=p.all=function(e,t,i){if(null==e)return!0;t=p.iteratee(t,i);var n,a,s=e.length!==+e.length&&p.keys(e),r=(s||e).length;for(n=0;r>n;n++)if(a=s?s[n]:n,!t(e[a],a,e))return!1;return!0},p.some=p.any=function(e,t,i){if(null==e)return!1;t=p.iteratee(t,i);var n,a,s=e.length!==+e.length&&p.keys(e),r=(s||e).length;for(n=0;r>n;n++)if(a=s?s[n]:n,t(e[a],a,e))return!0;return!1},p.contains=p.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=p.values(e)),p.indexOf(e,t)>=0)},p.invoke=function(e,t){var i=r.call(arguments,2),n=p.isFunction(t);return p.map(e,function(e){return(n?t:e[t]).apply(e,i)})},p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matches(t))},p.findWhere=function(e,t){return p.find(e,p.matches(t))},p.max=function(e,t,i){var n,a,s=-(1/0),r=-(1/0);if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var l=0,o=e.length;o>l;l++)n=e[l],n>s&&(s=n)}else t=p.iteratee(t,i),p.each(e,function(e,i,n){a=t(e,i,n),(a>r||a===-(1/0)&&s===-(1/0))&&(s=e,r=a)});return s},p.min=function(e,t,i){var n,a,s=1/0,r=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:p.values(e);for(var l=0,o=e.length;o>l;l++)n=e[l],s>n&&(s=n)}else t=p.iteratee(t,i),p.each(e,function(e,i,n){a=t(e,i,n),(r>a||a===1/0&&s===1/0)&&(s=e,r=a)});return s},p.shuffle=function(e){for(var t,i=e&&e.length===+e.length?e:p.values(e),n=i.length,a=Array(n),s=0;n>s;s++)t=p.random(0,s),t!==s&&(a[s]=a[t]),a[t]=i[s];return a},p.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=p.values(e)),e[p.random(e.length-1)]):p.shuffle(e).slice(0,Math.max(0,t))},p.sortBy=function(e,t,i){return t=p.iteratee(t,i),p.pluck(p.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var m=function(e){return function(t,i,n){var a={};return i=p.iteratee(i,n),p.each(t,function(n,s){var r=i(n,s,t);e(a,n,r)}),a}};p.groupBy=m(function(e,t,i){p.has(e,i)?e[i].push(t):e[i]=[t]}),p.indexBy=m(function(e,t,i){e[i]=t}),p.countBy=m(function(e,t,i){p.has(e,i)?e[i]++:e[i]=1}),p.sortedIndex=function(e,t,i,n){i=p.iteratee(i,n,1);for(var a=i(t),s=0,r=e.length;r>s;){var l=s+r>>>1;i(e[l])<a?s=l+1:r=l}return s},p.toArray=function(e){return e?p.isArray(e)?r.call(e):e.length===+e.length?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:e.length===+e.length?e.length:p.keys(e).length},p.partition=function(e,t,i){t=p.iteratee(t,i);var n=[],a=[];return p.each(e,function(e,i,s){(t(e,i,s)?n:a).push(e)}),[n,a]},p.first=p.head=p.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:r.call(e,0,t)},p.initial=function(e,t,i){return r.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},p.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:r.call(e,Math.max(e.length-t,0))},p.rest=p.tail=p.drop=function(e,t,i){return r.call(e,null==t||i?1:t)},p.compact=function(e){return p.filter(e,p.identity)};var v=function(e,t,i,n){if(t&&p.every(e,p.isArray))return l.apply(n,e);for(var a=0,r=e.length;r>a;a++){var o=e[a];p.isArray(o)||p.isArguments(o)?t?s.apply(n,o):v(o,t,i,n):i||n.push(o)}return n};p.flatten=function(e,t){return v(e,t,!1,[])},p.without=function(e){return p.difference(e,r.call(arguments,1))},p.uniq=p.unique=function(e,t,i,n){if(null==e)return[];p.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=p.iteratee(i,n));for(var a=[],s=[],r=0,l=e.length;l>r;r++){var o=e[r];if(t)r&&s===o||a.push(o),s=o;else if(i){var c=i(o,r,e);p.indexOf(s,c)<0&&(s.push(c),a.push(o))}else p.indexOf(a,o)<0&&a.push(o)}return a},p.union=function(){return p.uniq(v(arguments,!0,!0,[]))},p.intersection=function(e){if(null==e)return[];for(var t=[],i=arguments.length,n=0,a=e.length;a>n;n++){var s=e[n];if(!p.contains(t,s)){for(var r=1;i>r&&p.contains(arguments[r],s);r++);r===i&&t.push(s)}}return t},p.difference=function(e){var t=v(r.call(arguments,1),!0,!0,[]);return p.filter(e,function(e){return!p.contains(t,e)})},p.zip=function(e){if(null==e)return[];for(var t=p.max(arguments,"length").length,i=Array(t),n=0;t>n;n++)i[n]=p.pluck(arguments,n);return i},p.object=function(e,t){if(null==e)return{};for(var i={},n=0,a=e.length;a>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},p.indexOf=function(e,t,i){if(null==e)return-1;var n=0,a=e.length;if(i){if("number"!=typeof i)return n=p.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,a+i):i}for(;a>n;n++)if(e[n]===t)return n;return-1},p.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=e.length;for("number"==typeof i&&(n=0>i?n+i+1:Math.min(n,i+1));--n>=0;)if(e[n]===t)return n;return-1},p.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),a=Array(n),s=0;n>s;s++,e+=i)a[s]=e;return a};var y=function(){};p.bind=function(e,t){var i,n;if(d&&e.bind===d)return d.apply(e,r.call(arguments,1));if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");return i=r.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(r.call(arguments)));y.prototype=e.prototype;var a=new y;y.prototype=null;var s=e.apply(a,i.concat(r.call(arguments)));return p.isObject(s)?s:a}},p.partial=function(e){var t=r.call(arguments,1);return function(){for(var i=0,n=t.slice(),a=0,s=n.length;s>a;a++)n[a]===p&&(n[a]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},p.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=p.bind(e[i],e);return e},p.memoize=function(e,t){var i=function(n){var a=i.cache,s=t?t.apply(this,arguments):n;return p.has(a,s)||(a[s]=e.apply(this,arguments)),a[s]};return i.cache={},i},p.delay=function(e,t){var i=r.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},p.defer=function(e){return p.delay.apply(p,[e,1].concat(r.call(arguments,1)))},p.throttle=function(e,t,i){var n,a,s,r=null,l=0;i||(i={});var o=function(){l=i.leading===!1?0:p.now(),r=null,s=e.apply(n,a),r||(n=a=null)};return function(){var c=p.now();l||i.leading!==!1||(l=c);var h=t-(c-l);return n=this,a=arguments,0>=h||h>t?(clearTimeout(r),r=null,l=c,s=e.apply(n,a),r||(n=a=null)):r||i.trailing===!1||(r=setTimeout(o,h)),s}},p.debounce=function(e,t,i){var n,a,s,r,l,o=function(){var c=p.now()-r;t>c&&c>0?n=setTimeout(o,t-c):(n=null,i||(l=e.apply(s,a),n||(s=a=null)))};return function(){s=this,a=arguments,r=p.now();var c=i&&!n;return n||(n=setTimeout(o,t)),c&&(l=e.apply(s,a),s=a=null),l}},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},p.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},p.before=function(e,t){var i;return function(){return--e>0?i=t.apply(this,arguments):t=null,i}},p.once=p.partial(p.before,2),p.keys=function(e){if(!p.isObject(e))return[];if(u)return u(e);var t=[];for(var i in e)p.has(e,i)&&t.push(i);return t},p.values=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),a=0;i>a;a++)n[a]=e[t[a]];return n},p.pairs=function(e){for(var t=p.keys(e),i=t.length,n=Array(i),a=0;i>a;a++)n[a]=[t[a],e[t[a]]];return n},p.invert=function(e){for(var t={},i=p.keys(e),n=0,a=i.length;a>n;n++)t[e[i[n]]]=i[n];return t},p.functions=p.methods=function(e){var t=[];for(var i in e)p.isFunction(e[i])&&t.push(i);return t.sort()},p.extend=function(e){if(!p.isObject(e))return e;for(var t,i,n=1,a=arguments.length;a>n;n++){t=arguments[n];for(i in t)c.call(t,i)&&(e[i]=t[i])}return e},p.pick=function(e,t,i){var n,a={};if(null==e)return a;if(p.isFunction(t)){t=f(t,i);for(n in e){var s=e[n];t(s,n,e)&&(a[n]=s)}}else{var o=l.apply([],r.call(arguments,1));e=new Object(e);for(var c=0,h=o.length;h>c;c++)n=o[c],n in e&&(a[n]=e[n])}return a},p.omit=function(e,t,i){if(p.isFunction(t))t=p.negate(t);else{var n=p.map(l.apply([],r.call(arguments,1)),String);t=function(e,t){return!p.contains(n,t)}}return p.pick(e,t,i)},p.defaults=function(e){if(!p.isObject(e))return e;for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t];for(var a in n)void 0===e[a]&&(e[a]=n[a])}return e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e};var b=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var a=o.call(e);if(a!==o.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]===e)return n[s]===t;var r=e.constructor,l=t.constructor;if(r!==l&&"constructor"in e&&"constructor"in t&&!(p.isFunction(r)&&r instanceof r&&p.isFunction(l)&&l instanceof l))return!1;i.push(e),n.push(t);var c,h;if("[object Array]"===a){if(c=e.length,h=c===t.length)for(;c--&&(h=b(e[c],t[c],i,n)););}else{var u,d=p.keys(e);if(c=d.length,h=p.keys(t).length===c)for(;c--&&(u=d[c],h=p.has(t,u)&&b(e[u],t[u],i,n)););}return i.pop(),n.pop(),h};p.isEqual=function(e,t){return b(e,t,[],[])},p.isEmpty=function(e){if(null==e)return!0;if(p.isArray(e)||p.isString(e)||p.isArguments(e))return 0===e.length;for(var t in e)if(p.has(e,t))return!1;return!0},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=h||function(e){return"[object Array]"===o.call(e)},p.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){p["is"+e]=function(t){return o.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return p.has(e,"callee")}),"function"!=typeof/./&&(p.isFunction=function(e){return"function"==typeof e||!1}),p.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&e!==+e},p.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===o.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){return null!=e&&c.call(e,t)},p.noConflict=function(){return e._=t,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(e){return function(t){return t[e]}},p.matches=function(e){var t=p.pairs(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var n=0;i>n;n++){var a=t[n],s=a[0];if(a[1]!==e[s]||!(s in e))return!1}return!0}},p.times=function(e,t,i){var n=Array(Math.max(0,e));t=f(t,i,1);for(var a=0;e>a;a++)n[a]=t(a);return n},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=p.invert(w),x=function(e){var t=function(t){return e[t]},i="(?:"+p.keys(e).join("|")+")",n=RegExp(i),a=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}};p.escape=x(w),p.unescape=x(_),p.result=function(e,t){if(null==e)return void 0;var i=e[t];return p.isFunction(i)?e[t]():i};var T=0;p.uniqueId=function(e){var t=++T+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\u2028|\u2029/g,C=function(e){return"\\"+S[e]};p.template=function(e,t,i){!t&&i&&(t=i),t=p.defaults({},t,p.templateSettings);var n=RegExp([(t.escape||k).source,(t.interpolate||k).source,(t.evaluate||k).source].join("|")+"|$","g"),a=0,s="__p+='";e.replace(n,function(t,i,n,r,l){return s+=e.slice(a,l).replace(M,C),a=l+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var r=new Function(t.variable||"obj","_",s)}catch(l){throw l.source=s,l}var o=function(e){return r.call(this,e,p)},c=t.variable||"obj";return o.source="function("+c+"){\n"+s+"}",o},p.chain=function(e){var t=p(e);return t._chain=!0,t};var D=function(e){return this._chain?p(e).chain():e};p.mixin=function(e){p.each(p.functions(e),function(t){var i=p[t]=e[t];p.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),D.call(this,i.apply(p,e))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];p.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],D.call(this,i)}}),p.each(["concat","join","slice"],function(e){var t=i[e];p.prototype[e]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}.call(this),/**
	 * messageformat.js
	 *
	 * ICU PluralFormat + SelectFormat for JavaScript
	 *
	 * @author Alex Sexton - @SlexAxton
	 * @version 0.1.1
	 * @license WTFPL
	 * @contributor_license Dojo CLA
	*/
function(e){function t(e,i){if(e&&i&&(t.locale[e]=i),e=e||"en",i=i||t.locale[e],!i)throw new Error("Plural Function not found for locale: "+e);this.pluralFunc=i,this.locale=e}if(!e.MessageFormat){t.locale={en:function(e){return 1===e?"one":"other"},en_us:function(){return this.en.apply(this,arguments)}},t.SafeString=function(e){this.string=e},t.SafeString.prototype.toString=function(){return this.string.toString()},t.Utils={numSub:function(e,t,i){return e.replace(/^#|[^\\]#/g,function(e){var n=e&&2===e.length?e.charAt(0):"";return n+'" + (function(){ var x = '+t+';\nif( isNaN(x) ){\nthrow new Error("MessageFormat: `"+lastkey_'+i+'+"` isnt a number.");\n}\nreturn x;\n})() + "'})},escapeExpression:function(e){var i={"\n":"\\n"},n=/(\n)|[\n]/g,a=/[\n]/,s=function(e){return i[e]||"&amp;"};return e instanceof t.SafeString?e.toString():null===e||e===!1?"":a.test(e)?e.replace(n,s):e}};var i=function(){var e={parse:function(e,t){function i(e,t,i){for(var n=e,a=i-e.length,s=0;a>s;s++)n=t+n;return n}function n(e){var t=e.charCodeAt(0);if(255>=t)var n="x",a=2;else var n="u",a=4;return"\\"+n+i(t.toString(16).toUpperCase(),"0",a)}function a(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,n)+'"'}function s(e){P>E||(E>P&&(P=E,I=[]),I.push(e))}function r(){var e="start@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=E,n=l(),a=null!==n?function(e){return{type:"program",program:e}}(n):null;if(null!==a)var s=a;else{var s=null;E=i}return G[e]={nextPos:E,result:s},s}function l(){var e="messageFormatPattern@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=E,n=E,a=y();if(null!==a){for(var s=[],r=o();null!==r;){s.push(r);var r=o()}if(null!==s)var l=[a,s];else{var l=null;E=n}}else{var l=null;E=n}var c=null!==l?function(e,t){var i=[];e&&e.val&&i.push(e);for(var n in t)t.hasOwnProperty(n)&&i.push(t[n]);return{type:"messageFormatPattern",statements:i}}(l[0],l[1]):null;if(null!==c)var h=c;else{var h=null;E=i}return G[e]={nextPos:E,result:h},h}function o(){var t="messageFormatPatternRight@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E,a=E;if("{"===e.substr(E,1)){var r="{";E+=1}else{var r=null;A&&s('"{"')}if(null!==r){var l=k();if(null!==l){var o=c();if(null!==o){var h=k();if(null!==h){if("}"===e.substr(E,1)){var u="}";E+=1}else{var u=null;A&&s('"}"')}if(null!==u){var d=y();if(null!==d)var p=[r,l,o,h,u,d];else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}var f=null!==p?function(e,t){var i=[];return e&&i.push(e),t&&t.val&&i.push(t),{type:"messageFormatPatternRight",statements:i}}(p[2],p[5]):null;if(null!==f)var g=f;else{var g=null;E=n}return G[t]={nextPos:E,result:g},g}function c(){var t="messageFormatElement@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E,a=E,r=b();if(null!==r){var l=E;if(","===e.substr(E,1)){var o=",";E+=1}else{var o=null;A&&s('","')}if(null!==o){var c=h();if(null!==c)var u=[o,c];else{var u=null;E=l}}else{var u=null;E=l}var d=null!==u?u:"";if(null!==d)var p=[r,d];else{var p=null;E=a}}else{var p=null;E=a}var f=null!==p?function(e,t){var i={type:"messageFormatElement",argumentIndex:e};return t&&t.length?i.elementFormat=t[1]:i.output=!0,i}(p[0],p[1]):null;if(null!==f)var g=f;else{var g=null;E=n}return G[t]={nextPos:E,result:g},g}function h(){var t="elementFormat@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E,a=E,r=k();if(null!==r){if("plural"===e.substr(E,6)){var l="plural";E+=6}else{var l=null;A&&s('"plural"')}if(null!==l){var o=k();if(null!==o){if(","===e.substr(E,1)){var c=",";E+=1}else{var c=null;A&&s('","')}if(null!==c){var h=k();if(null!==h){var p=u();if(null!==p){var f=k();if(null!==f)var g=[r,l,o,c,h,p,f];else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}var m=null!==g?function(e,t){return{type:"elementFormat",key:e,val:t.val}}(g[1],g[5]):null;if(null!==m)var v=m;else{var v=null;E=n}if(null!==v)var y=v;else{var b=E,w=E,_=k();if(null!==_){if("select"===e.substr(E,6)){var x="select";E+=6}else{var x=null;A&&s('"select"')}if(null!==x){var T=k();if(null!==T){if(","===e.substr(E,1)){var S=",";E+=1}else{var S=null;A&&s('","')}if(null!==S){var M=k();if(null!==M){var C=d();if(null!==C){var D=k();if(null!==D)var P=[_,x,T,S,M,C,D];else{var P=null;E=w}}else{var P=null;E=w}}else{var P=null;E=w}}else{var P=null;E=w}}else{var P=null;E=w}}else{var P=null;E=w}}else{var P=null;E=w}var I=null!==P?function(e,t){return{type:"elementFormat",key:e,val:t.val}}(P[1],P[5]):null;if(null!==I)var L=I;else{var L=null;E=b}if(null!==L)var y=L;else var y=null}return G[t]={nextPos:E,result:y},y}function u(){var e="pluralStyle@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=E,n=p(),a=null!==n?function(e){return{type:"pluralStyle",val:e}}(n):null;if(null!==a)var s=a;else{var s=null;E=i}return G[e]={nextPos:E,result:s},s}function d(){var e="selectStyle@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=E,n=g(),a=null!==n?function(e){return{type:"selectStyle",val:e}}(n):null;if(null!==a)var s=a;else{var s=null;E=i}return G[e]={nextPos:E,result:s},s}function p(){var e="pluralFormatPattern@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=E,n=E,a=f(),s=null!==a?a:"";if(null!==s){for(var r=[],l=m();null!==l;){r.push(l);var l=m()}if(null!==r)var o=[s,r];else{var o=null;E=n}}else{var o=null;E=n}var c=null!==o?function(e,t){var i={type:"pluralFormatPattern",pluralForms:t};return e?i.offset=e:i.offset=0,i}(o[0],o[1]):null;if(null!==c)var h=c;else{var h=null;E=i}return G[e]={nextPos:E,result:h},h}function f(){var t="offsetPattern@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E,a=E,r=k();if(null!==r){if("offset"===e.substr(E,6)){var l="offset";E+=6}else{var l=null;A&&s('"offset"')}if(null!==l){var o=k();if(null!==o){if(":"===e.substr(E,1)){var c=":";E+=1}else{var c=null;A&&s('":"')}if(null!==c){var h=k();if(null!==h){var u=x();if(null!==u){var d=k();if(null!==d)var p=[r,l,o,c,h,u,d];else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}}else{var p=null;E=a}var f=null!==p?function(e){return e}(p[5]):null;if(null!==f)var g=f;else{var g=null;E=n}return G[t]={nextPos:E,result:g},g}function g(){var e="selectFormatPattern@"+E,t=G[e];if(t)return E=t.nextPos,t.result;for(var i=E,n=[],a=m();null!==a;){n.push(a);var a=m()}var s=null!==n?function(e){return{type:"selectFormatPattern",pluralForms:e}}(n):null;if(null!==s)var r=s;else{var r=null;E=i}return G[e]={nextPos:E,result:r},r}function m(){var t="pluralForms@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E,a=E,r=k();if(null!==r){var o=v();if(null!==o){var c=k();if(null!==c){if("{"===e.substr(E,1)){var h="{";E+=1}else{var h=null;A&&s('"{"')}if(null!==h){var u=k();if(null!==u){var d=l();if(null!==d){var p=k();if(null!==p){if("}"===e.substr(E,1)){var f="}";E+=1}else{var f=null;A&&s('"}"')}if(null!==f)var g=[r,o,c,h,u,d,p,f];else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}}else{var g=null;E=a}var m=null!==g?function(e,t){return{type:"pluralForms",key:e,val:t}}(g[1],g[5]):null;if(null!==m)var y=m;else{var y=null;E=n}return G[t]={nextPos:E,result:y},y}function v(){var t="stringKey@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E,a=b(),r=null!==a?function(e){return e}(a):null;if(null!==r)var l=r;else{var l=null;E=n}if(null!==l)var o=l;else{var c=E,h=E;if("="===e.substr(E,1)){var u="=";E+=1}else{var u=null;A&&s('"="')}if(null!==u){var d=x();if(null!==d)var p=[u,d];else{var p=null;E=h}}else{var p=null;E=h}var f=null!==p?function(e){return e}(p[1]):null;if(null!==f)var g=f;else{var g=null;E=c}if(null!==g)var o=g;else var o=null}return G[t]={nextPos:E,result:o},o}function y(){var e="string@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=E,n=E,a=k();if(null!==a){var s=[],r=E,l=k();if(null!==l){var o=w();if(null!==o){var c=k();if(null!==c)var h=[l,o,c];else{var h=null;E=r}}else{var h=null;E=r}}else{var h=null;E=r}for(;null!==h;){s.push(h);var r=E,l=k();if(null!==l){var o=w();if(null!==o){var c=k();if(null!==c)var h=[l,o,c];else{var h=null;E=r}}else{var h=null;E=r}}else{var h=null;E=r}}if(null!==s)var u=[a,s];else{var u=null;E=n}}else{var u=null;E=n}var d=null!==u?function(e,t){for(var i=[],n=0;n<t.length;++n)for(var a=0;a<t[n].length;++a)i.push(t[n][a]);return{type:"string",val:e+i.join("")}}(u[0],u[1]):null;if(null!==d)var p=d;else{var p=null;E=i}return G[e]={nextPos:E,result:p},p}function b(){var t="id@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E,a=E,r=k();if(null!==r){if(null!==e.substr(E).match(/^[a-zA-Z$_]/)){var l=e.charAt(E);E++}else{var l=null;A&&s("[a-zA-Z$_]")}if(null!==l){var o=[];if(null!==e.substr(E).match(/^[^ 	\n\r,.+={}]/)){var c=e.charAt(E);E++}else{var c=null;A&&s("[^ 	\\n\\r,.+={}]")}for(;null!==c;)if(o.push(c),null!==e.substr(E).match(/^[^ 	\n\r,.+={}]/)){var c=e.charAt(E);E++}else{var c=null;A&&s("[^ 	\\n\\r,.+={}]")}if(null!==o){var h=k();if(null!==h)var u=[r,l,o,h];else{var u=null;E=a}}else{var u=null;E=a}}else{var u=null;E=a}}else{var u=null;E=a}var d=null!==u?function(e,t){return e+(t?t.join(""):"")}(u[1],u[2]):null;if(null!==d)var p=d;else{var p=null;E=n}return G[t]={nextPos:E,result:p},p}function w(){var e="chars@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=E,n=_();if(null!==n)for(var a=[];null!==n;){a.push(n);var n=_()}else var a=null;var s=null!==a?function(e){return e.join("")}(a):null;if(null!==s)var r=s;else{var r=null;E=i}return G[e]={nextPos:E,result:r},r}function _(){var t="char@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E;if(null!==e.substr(E).match(/^[^{}\\\0- 	\n\r]/)){var a=e.charAt(E);E++}else{var a=null;A&&s("[^{}\\\\\\0- 	\\n\\r]")}var r=null!==a?function(e){return e}(a):null;if(null!==r)var l=r;else{var l=null;E=n}if(null!==l)var o=l;else{var c=E;if("\\#"===e.substr(E,2)){var h="\\#";E+=2}else{var h=null;A&&s('"\\\\#"')}var u=null!==h?function(){return"\\#"}():null;if(null!==u)var d=u;else{var d=null;E=c}if(null!==d)var o=d;else{var p=E;if("\\{"===e.substr(E,2)){var f="\\{";E+=2}else{var f=null;A&&s('"\\\\{"')}var g=null!==f?function(){return"{"}():null;if(null!==g)var m=g;else{var m=null;E=p}if(null!==m)var o=m;else{var v=E;if("\\}"===e.substr(E,2)){var y="\\}";E+=2}else{var y=null;A&&s('"\\\\}"')}var b=null!==y?function(){return"}"}():null;if(null!==b)var w=b;else{var w=null;E=v}if(null!==w)var o=w;else{var _=E,x=E;if("\\u"===e.substr(E,2)){var k="\\u";E+=2}else{var k=null;A&&s('"\\\\u"')}if(null!==k){var S=T();if(null!==S){var M=T();if(null!==M){var C=T();if(null!==C){var D=T();if(null!==D)var P=[k,S,M,C,D];else{var P=null;E=x}}else{var P=null;E=x}}else{var P=null;E=x}}else{var P=null;E=x}}else{var P=null;E=x}var I=null!==P?function(e,t,i,n){return String.fromCharCode(parseInt("0x"+e+t+i+n))}(P[1],P[2],P[3],P[4]):null;if(null!==I)var L=I;else{var L=null;E=_}if(null!==L)var o=L;else var o=null}}}}return G[t]={nextPos:E,result:o},o}function x(){var t="digits@"+E,i=G[t];if(i)return E=i.nextPos,i.result;var n=E;if(null!==e.substr(E).match(/^[0-9]/)){var a=e.charAt(E);E++}else{var a=null;A&&s("[0-9]")}if(null!==a)for(var r=[];null!==a;)if(r.push(a),null!==e.substr(E).match(/^[0-9]/)){var a=e.charAt(E);E++}else{var a=null;A&&s("[0-9]")}else var r=null;var l=null!==r?function(e){return parseInt(e.join(""),10)}(r):null;if(null!==l)var o=l;else{var o=null;E=n}return G[t]={nextPos:E,result:o},o}function T(){var t="hexDigit@"+E,i=G[t];if(i)return E=i.nextPos,i.result;if(null!==e.substr(E).match(/^[0-9a-fA-F]/)){var n=e.charAt(E);E++}else{var n=null;A&&s("[0-9a-fA-F]")}return G[t]={nextPos:E,result:n},n}function k(){var e="_@"+E,t=G[e];if(t)return E=t.nextPos,t.result;var i=A;A=!1;for(var n=E,a=[],r=S();null!==r;){a.push(r);var r=S()}var l=null!==a?function(e){return e.join("")}(a):null;if(null!==l)var o=l;else{var o=null;E=n}return A=i,A&&null===o&&s("whitespace"),G[e]={nextPos:E,result:o},o}function S(){var t="whitespace@"+E,i=G[t];if(i)return E=i.nextPos,i.result;if(null!==e.substr(E).match(/^[ 	\n\r]/)){var n=e.charAt(E);E++}else{var n=null;A&&s("[ 	\\n\\r]")}return G[t]={nextPos:E,result:n},n}function M(){function t(e){e.sort();for(var t=null,i=[],n=0;n<e.length;n++)e[n]!==t&&(i.push(e[n]),t=e[n]);switch(i.length){case 0:return"end of input";case 1:return i[0];default:return i.slice(0,i.length-1).join(", ")+" or "+i[i.length-1]}}var i=t(I),n=Math.max(E,P),s=n<e.length?a(e.charAt(n)):"end of input";return"Expected "+i+" but "+s+" found."}function C(){for(var t=1,i=1,n=!1,a=0;P>a;a++){var s=e.charAt(a);"\n"===s?(n||t++,i=1,n=!1):"\r"===s|"\u2028"===s||"\u2029"===s?(t++,i=1,n=!0):(i++,n=!1)}return{line:t,column:i}}var D={_:k,"char":_,chars:w,digits:x,elementFormat:h,hexDigit:T,id:b,messageFormatElement:c,messageFormatPattern:l,messageFormatPatternRight:o,offsetPattern:f,pluralFormatPattern:p,pluralForms:m,pluralStyle:u,selectFormatPattern:g,selectStyle:d,start:r,string:y,stringKey:v,whitespace:S};if(void 0!==t){if(void 0===D[t])throw new Error("Invalid rule name: "+a(t)+".")}else t="start";var E=0,A=!0,P=0,I=[],G={},L=D[t]();if(null===L||E!==e.length){var O=C();throw new this.SyntaxError(M(),O.line,O.column)}return L},toSource:function(){return this._source}};return e.SyntaxError=function(e,t,i){this.name="SyntaxError",this.message=e,this.line=t,this.column=i},e.SyntaxError.prototype=Error.prototype,e}();t.prototype.parse=function(){return i.parse.apply(i,arguments)},t.prototype.precompile=function(e){function i(e,r){r=r||{};var l,o,c,h="";switch(e.type){case"program":return i(e.program);case"messageFormatPattern":for(l=0;l<e.statements.length;++l)h+=i(e.statements[l],r);return s.begin+h+s.end;case"messageFormatPatternRight":for(l=0;l<e.statements.length;++l)h+=i(e.statements[l],r);return h;case"messageFormatElement":return r.pf_count=r.pf_count||0,h+='if(!d){\nthrow new Error("MessageFormat: No data passed to function.");\n}\n',e.output?h+='r += d["'+e.argumentIndex+'"];\n':(c="lastkey_"+(r.pf_count+1),h+="var "+c+' = "'+e.argumentIndex+'";\n',h+="var k_"+(r.pf_count+1)+"=d["+c+"];\n",h+=i(e.elementFormat,r)),h;case"elementFormat":return"select"===e.key?(h+=i(e.val,r),h+="r += (pf_"+r.pf_count+"[ k_"+(r.pf_count+1)+" ] || pf_"+r.pf_count+'[ "other" ])( d );\n'):"plural"===e.key&&(h+=i(e.val,r),h+="if ( pf_"+r.pf_count+"[ k_"+(r.pf_count+1)+' + "" ] ) {\n',h+="r += pf_"+r.pf_count+"[ k_"+(r.pf_count+1)+' + "" ]( d ); \n',h+="}\nelse {\n",h+="r += (pf_"+r.pf_count+'[ MessageFormat.locale["'+n.locale+'"]( k_'+(r.pf_count+1)+" - off_"+r.pf_count+" ) ] || pf_"+r.pf_count+'[ "other" ] )( d );\n',h+="}\n"),h;case"pluralFormatPattern":for(r.pf_count=r.pf_count||0,h+="var off_"+r.pf_count+" = "+e.offset+";\n",h+="var pf_"+r.pf_count+" = { \n",a=!0,l=0;l<e.pluralForms.length;++l)"other"===e.pluralForms[l].key&&(a=!1),o?h+=",\n":o=1,h+='"'+e.pluralForms[l].key+'" : '+i(e.pluralForms[l].val,function(){var e=JSON.parse(JSON.stringify(r));return e.pf_count++,e}());if(h+="\n};\n",a)throw new Error("No 'other' form found in pluralFormatPattern "+r.pf_count);return h;case"selectFormatPattern":for(r.pf_count=r.pf_count||0,h+="var off_"+r.pf_count+" = 0;\n",h+="var pf_"+r.pf_count+" = { \n",a=!0,l=0;l<e.pluralForms.length;++l)"other"===e.pluralForms[l].key&&(a=!1),o?h+=",\n":o=1,h+='"'+e.pluralForms[l].key+'" : '+i(e.pluralForms[l].val,function(){var e=JSON.parse(JSON.stringify(r));return e.pf_count++,e}());if(h+="\n};\n",a)throw new Error("No 'other' form found in selectFormatPattern "+r.pf_count);return h;case"string":return'r += "'+t.Utils.numSub(t.Utils.escapeExpression(e.val),"k_"+r.pf_count+" - off_"+(r.pf_count-1),r.pf_count)+'";\n';default:throw new Error("Bad AST type: "+e.type)}}var n=this,a=!1,s={begin:'function(d){\nvar r = "";\n',end:"return r;\n}"};return i(e)},t.prototype.compile=function(e){return new Function("MessageFormat","return "+this.precompile(this.parse(e)))(t)},e.MessageFormat=t}}(this),define("messageformat/messageformat",function(e){return function(){var t;return t||e.MessageFormat}}(this)),MessageFormat.locale.en=function(e){return 1===e?"one":"other"},define("messageformat/locale/en",function(){}),MessageFormat.locale.ja=function(e){return 1===e?"one":"other"},define("messageformat/locale/ja",function(){}),MessageFormat.locale.zh=function(e){return"other"},define("messageformat/locale/zh",function(){}),MessageFormat.locale.ko=function(e){return"other"},define("messageformat/locale/ko",function(){}),MessageFormat.locale.fr=function(e){return e>=0&&2>e?"one":"other"},define("messageformat/locale/fr",function(){}),MessageFormat.locale.de=function(e){return 1===e?"one":"other"},define("messageformat/locale/de",function(){}),MessageFormat.locale.es=function(e){return 1===e?"one":"other"},define("messageformat/locale/es",function(){}),MessageFormat.locale.it=function(e){return 1===e?"one":"other"},define("messageformat/locale/it",function(){}),MessageFormat.locale.tr=function(e){return"other"},define("messageformat/locale/tr",function(){}),MessageFormat.locale.ru=function(e){return e%10==1&&e%100!=11?"one":e%10>=2&&4>=e%10&&(12>e%100||e%100>14)&&e==Math.floor(e)?"few":e%10===0||e%10>=5&&9>=e%10||e%100>=11&&14>=e%100&&e==Math.floor(e)?"many":"other"},define("messageformat/locale/ru",function(){}),MessageFormat.locale.pt=function(e){return 1===e?"one":"other"},define("messageformat/locale/pt",function(){}),MessageFormat.locale.no=function(e){return 1===e?"one":"other"},define("messageformat/locale/no",function(){}),MessageFormat.locale.sv=function(e){return 1===e?"one":"other"},define("messageformat/locale/sv",function(){}),MessageFormat.locale.nl=function(e){return 1===e?"one":"other"},define("messageformat/locale/nl",function(){}),MessageFormat.locale.pl=function(e){return 1==e?"one":e%10>=2&&4>=e%10&&(12>e%100||e%100>14)&&e==Math.floor(e)?"few":e%10===0||1!=e&&e%10==1||(e%10>=5&&9>=e%10||e%100>=12&&14>=e%100)&&e==Math.floor(e)?"many":"other"},define("messageformat/locale/pl",function(){}),MessageFormat.locale.cs=function(e){return 1==e?"one":2==e||3==e||4==e?"few":"other"},define("messageformat/locale/cs",function(){}),MessageFormat.locale.ro=function(e){return 1==e?"one":0===e||1!=e&&e%100>=1&&19>=e%100&&e==Math.floor(e)?"few":"other"},define("messageformat/locale/ro",function(){}),MessageFormat.locale["in"]=function(e){return"other"},define("messageformat/locale/in",function(){}),define("i18n/locale",["require"],function(e){if("object"==typeof global_page_viewer&&global_page_viewer.locale)return global_page_viewer.locale;if("object"==typeof fitbit&&"object"==typeof fitbit.i18n&&fitbit.i18n.locale)return fitbit.i18n.locale;var t=document.getElementsByTagName("body");if(t&&t[0]){var i=/locale-([a-z]{2}_[A-Z]{2})/.exec(t[0].className);if(i&&i[1])return i[1]}return"en_US"}),define("i18n/i18n",["require","exports","module","underscore","messageformat/messageformat","messageformat/locale/en","messageformat/locale/ja","messageformat/locale/zh","messageformat/locale/ko","messageformat/locale/fr","messageformat/locale/de","messageformat/locale/es","messageformat/locale/it","messageformat/locale/tr","messageformat/locale/ru","messageformat/locale/pt","messageformat/locale/no","messageformat/locale/sv","messageformat/locale/nl","messageformat/locale/pl","messageformat/locale/cs","messageformat/locale/ro","messageformat/locale/in","i18n/locale"],function(e,t,i){var n=e("underscore"),a=e("messageformat/messageformat");e("messageformat/locale/en"),e("messageformat/locale/ja"),e("messageformat/locale/zh"),e("messageformat/locale/ko"),e("messageformat/locale/fr"),e("messageformat/locale/de"),e("messageformat/locale/es"),e("messageformat/locale/it"),e("messageformat/locale/tr"),e("messageformat/locale/ru"),e("messageformat/locale/pt"),e("messageformat/locale/no"),e("messageformat/locale/sv"),e("messageformat/locale/nl"),e("messageformat/locale/pl"),e("messageformat/locale/cs"),e("messageformat/locale/ro"),e("messageformat/locale/in"),a.locale.nb=MessageFormat.locale.no;var s=new a(e("i18n/locale").slice(0,2)),r=i.config&&i.config()||{};return function l(e){function t(e){var i=n.toArray(arguments).slice(1),a=t._getNamespace(e);if(!a)return t._handleError(e);var s;return s=i.length?t._ensureMessageFormat(a,e).apply(t,i):a.translations[e]}var i=[];return t._ensureMessageFormat=function(e,t,i){var n=e.formatted[t];if(!n){var a=i||e.translations[t];n=e.formatted[t]=s.compile(a)}return n},t._getNamespace=function(e){return n.find(i,function(t){return t.translations[e]})},t._handleError=function(e){if(r.strict){var i=n.pluck(t.getNamespaces(),"namespace");throw new Error('missing translation for: "'+e+'" with loaded namespaces: '+JSON.stringify(i))}return e},t._handleReserveError=function(e){if(r.strict){var i=n.pluck(t.getNamespaces(),"namespace");throw new Error('missing namespace for: "'+e+'" with loaded namespaces: '+JSON.stringify(i))}},t.plural=function(e){var i=t._getNamespace(e);if(!i){var n=t._handleError(e);return function(){return n}}return function(n){return t._ensureMessageFormat(i,e,"{NUM_RESULTS, plural, "+i.translations[e]+"}")({NUM_RESULTS:n})}},t.namespace=function(){return n.each(arguments,function(e){e&&(e.formatted=e.formatted||{},i.unshift(e))}),this},t.getNamespaces=function(){return i},t.inNamespace=function(e){var i=n.find(t.getNamespaces(),function(t){return t.namespace===e});return i?new l([i]):(t._handleReserveError(e),t)},e&&t.namespace.apply(t,e),t}}),define("i18n/locales",[],function(){return["en_US","en_CA","en_AU","en_GB","en_IE","en_NL","en_NO","en_SE","en_BE","en_DK","en_FI","en_PL","en_NZ","en_HK","en_SG","en_ZA","en_IL","en_TH","en_MY","en_PH","en_ID","en_VN","en_IN","ja_JP","zh_CN","zh_TW","ko_KR","fr_FR","fr_CH","fr_CA","fr_BE","de_DE","de_AT","de_CH","es_ES","es_MX","es_CO","es_CL","es_EC","es_VE","es_AR","es_PE","es_PY","es_CR","es_PA","es_PR","es_GT","it_IT","it_CH","nl_NL","no_NO","sv_SE","tr_TR","ru","pt_BR","en_EU"]}),define("i18n/properties/parse",["require","exports","module"],function(e,t,i){var n=function(e){switch(e){case"0":return 0;case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5;case"6":return 6;case"7":return 7;case"8":return 8;case"9":return 9;case"a":case"A":return 10;case"b":case"B":return 11;case"c":case"C":return 12;case"d":case"D":return 13;case"e":case"E":return 14;case"f":case"F":return 15}};i.exports=function(e,t,i,a){var s,r,l,o,c,h,u,d,p,f,g,m,v,y,b,w=!0,_=!0,x=!0,T="",k="",S=function(){(T||k||m)&&(i.line(T,k),T="",k="",m=!1)},M=function(e,t,i){return f&&p?(d=(d<<4)+n(t),--p?e:(l=!1,f=!1,e+String.fromCharCode(d))):117===i?(d=0,f=!0,p=4,e):(l=!1,116===i?e+"	":114===i?e+"\r":110===i?e+"\n":102===i?e+"\f":e+t)};t._strict?(y=function(e,t,i){return i._comments[e]},b=function(e,t,i){return i._separators[e]}):(y=function(e,t,i){return 35===t||33===t||i._comments[e]},b=function(e,t,i){return 61===t||58===t||i._separators[e]});for(var C=~~a.resume;C<e.length;C++){if(a.abort)return;if(a.pause)return void(a.resume=C);if(s=e[C],r=e.charCodeAt(C),13!==r)if(o)10===r&&(o=!1,_=!0,w=!0);else if(c&&93===r)i.section(u),v=!0;else{if(w){if(32===r||9===r||12===r)continue;if(!h&&10===r){x=!0,g=!1,_=!0,S();continue}w=!1,h=!1}if(_){if(_=!1,y(s,r,t)){o=!0;continue}if(t.sections&&91===r){u="",c=!0,a.skipSection=!1;continue}}if(10!==r){if(a.skipSection||v)continue;if(!c&&!l&&x&&b(s,r,t)){m=!0,x=!1,g=!1,w=!0;continue}if(92===r){if(l){if(f)continue;g&&(g=!1,x=!1),c?u+="\\":x?T+="\\":k+="\\"}l=!l}else if(g&&(g=!1,x=!1),c)l?u=M(u,s,r):u+=s;else if(x)if(l)T=M(T,s,r);else{if(32===r||9===r||12===r){g=!0,w=!0;continue}T+=s}else l?k=M(k,s,r):k+=s}else if(l)f||(l=!1),w=!0,h=!0;else{if(c){if(c=!1,!v)return void(a.error=new Error('The section line "'+u+'" must end with "]"'));v=!1}_=!0,w=!0,x=!0,S()}}}return a.parsed=!0,c&&!v?void(a.error=new Error('The section line "'+u+'" must endwith "]"')):void S()}}),define("properties",["require","exports","module","i18n/properties/parse"],function(e,t,i){var n=e("i18n/properties/parse"),a=function(e){if(null===e||"null"===e)return null;if("undefined"===e)return void 0;if("true"===e)return!0;if("false"===e)return!1;var t=Number(e);return isNaN(t)?e:t},s=function(e,t,i){for(var n,a=t.split("."),s=0;s<a.length-1;s++){if(n=a[s],void 0===e[n])return;e=e[n]}var r=e[a[a.length-1]];if(i){if("object"!=typeof r)return;return r}return"object"!=typeof r?r:void 0},r=function(e,t,i){for(var n,a=t.split("."),s=0;s<a.length-1;s++){if(n=a[s],void 0===e[n])e[n]={};else if("object"!=typeof e[n])throw new Error("Invalid namespace chain in the property name '"+t+"' ('"+n+"' has already a value)");e=e[n]}e[a[a.length-1]]=i},l=function(e,t){for(var i,n=t.split("."),a=0;a<n.length;a++){if(i=n[a],void 0===e[i])e[i]={};else if("object"!=typeof e[i])throw new Error("Invalid namespace chain in the section name '"+t+"' ('"+i+"' has already a value)");e=e[i]}return e},o=function(e,t,i,n){if(!i.variables||!t)return n(null,t);for(var a,r,l,o,c,h=[],u="",d=null,p=0;p<t.length;p++)if(a=t[p],"$"!==r||"{"!==a){if(h.length){if(i.sections&&"|"===a){d=u,u="";continue}if("}"===a){if(o=null!==d?s(e,d,!0):e,!o)return n(new Error('The section "'+d+'" does not exist'));if(l=i.namespaces?s(o,u):o[u],void 0===l&&(l=i.namespaces?s(i._vars,u):i._vars[u],void 0===l))return n(new Error('The property "'+u+'" does not exist'));c=h.pop(),d=c.section,u=c.key+(null===l?"":l);continue}}r=a,u+=a}else u=u.substring(0,u.length-1),h.push({key:u,section:d}),u="",d=null;return 0!==h.length?n(new Error("Malformed variable: "+t)):void n(null,u)},c=function(e,t,i,s){var c,h={};t.namespaces&&(c={});var u={abort:!1,skipSection:!1};if(!e)return s?s(null,h):h;var d,p=null,f=null,g=function(e){if(u.abort=!0,s)return s(e);throw e},m={},v={assert:function(){return this.isProperty?y.value:!0}},y={};d=t.reviver?t.sections?function(e,i){if(y.value=i,v.isProperty=!0,v.isSection=!1,i=t.reviver.call(v,e,i,f),void 0!==i)if(t.namespaces)try{r(null===p?c:p,e,i)}catch(n){g(n)}else null===p?h[e]=i:p[e]=i}:function(e,i){if(y.value=i,v.isProperty=!0,v.isSection=!1,i=t.reviver.call(v,e,i),void 0!==i)if(t.namespaces)try{r(c,e,i)}catch(n){g(n)}else h[e]=i}:t.sections?function(e,i){if(t.namespaces)try{r(null===p?c:p,e,i)}catch(n){g(n)}else null===p?h[e]=i:p[e]=i}:function(e,i){if(t.namespaces)try{r(c,e,i)}catch(n){g(n)}else h[e]=i};var b;return t.sections&&(b=t.reviver?function(e){f=e,y.section=e,v.isProperty=!1,v.isSection=!0;var i=t.reviver.call(v,null,null,e);if(i)if(t.namespaces)try{p=l(c,e)}catch(n){g(n)}else p=h[e]={};else u.skipSection=!0}:function(e){if(f=e,t.namespaces)try{p=l(c,e)}catch(i){g(i)}else p=h[e]={}}),t.variables?(m.line=function(e,i){o(t.namespaces?c:h,e,t,function(e,n){return e?g(e):void o(t.namespaces?c:h,i,t,function(e,t){return e?g(e):void d(n,a(t||null))})})},t.sections&&(m.section=function(e){o(t.namespaces?c:h,e,t,function(e,t){return e?g(e):void b(t)})})):(m.line=function(e,t){d(e,a(t||null))},t.sections&&(m.section=b)),n(e,t,m,u),u.error?g(u.error):u.abort||u.pause?void 0:s?s(null,t.namespaces?c:h):t.namespaces?c:h},h=function(e,t,i){"function"==typeof t&&(i=t,t={});var n;t=t||{},t._strict=t.strict&&(t.comments||t.separators),t._vars=t.vars||{};var a=t.comments||[];Array.isArray(a)||(a=[a]);var s={};a.forEach(function(e){if(n=e.charCodeAt(0),e.length>1||33>n||n>126)throw new Error("The comment token must be a single printable ASCII character");s[e]=!0}),t._comments=s;var r=t.separators||[];Array.isArray(r)||(r=[r]);var l={};return r.forEach(function(e){if(n=e.charCodeAt(0),e.length>1||33>n||n>126)throw new Error("The separator token must be a single printable ASCII character");l[e]=!0}),t._separators=l,c(e,t,".",i)};i.exports={parse:h}}),/**
	 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
	 * Available via the MIT or new BSD license.
	 * see: http://github.com/requirejs/text for details
	 */
define("text",["module"],function(e){var t,i,n,a,s,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,o=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,h=c&&location.protocol&&location.protocol.replace(/\:/,""),u=c&&location.hostname,d=c&&(location.port||void 0),p={},f=e.config&&e.config()||{};return t={version:"2.0.14",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(o);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=r[t];try{e=new ActiveXObject(i)}catch(n){}if(e){r=[i];break}}return e},parseName:function(e){var t,i,n,a=!1,s=e.lastIndexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!r||s>1)?(t=e.substring(0,s),i=e.substring(s+1)):t=e,n=i||t,s=n.indexOf("!"),-1!==s&&(a="strip"===n.substring(s+1),n=n.substring(0,s),i?i=n:t=n),{moduleName:t,ext:i,strip:a}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,i,n,a){var s,r,l,o=t.xdRegExp.exec(e);return o?(s=o[2],r=o[3],r=r.split(":"),l=r[1],r=r[0],!(s&&s!==i||r&&r.toLowerCase()!==n.toLowerCase()||(l||r)&&l!==a)):!0},finishLoad:function(e,i,n,a){n=i?t.strip(n):n,f.isBuild&&(p[e]=n),a(n)},load:function(e,i,n,a){if(a&&a.isBuild&&!a.inlineText)return void n();f.isBuild=a&&a.isBuild;var s=t.parseName(e),r=s.moduleName+(s.ext?"."+s.ext:""),l=i.toUrl(r),o=f.useXhr||t.useXhr;
//!strip part to avoid file system issues.
return 0===l.indexOf("empty:")?void n():void(!c||o(l,h,u,d)?t.get(l,function(i){t.finishLoad(e,s.strip,i,n)},function(e){n.error&&n.error(e)}):i([r],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,n)}))},write:function(e,i,n,a){if(p.hasOwnProperty(i)){var s=t.jsEscape(p[i]);n.asModule(e+"!"+i,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,i,n,a,s){var r=t.parseName(i),l=r.ext?"."+r.ext:"",o=r.moduleName+l,c=n.toUrl(r.moduleName+l)+".js";t.load(o,n,function(i){var n=function(e){return a(c,e)};n.asModule=function(e,t){return a.asModule(e,c,t)},t.write(e,o,n,s)},s)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),t.get=function(e,t,n){try{var a=i.readFileSync(e,"utf8");"\ufeff"===a[0]&&(a=a.substring(1)),t(a)}catch(s){n&&n(s)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,i,n,a){var s,r=t.createXhr();if(r.open("GET",e,!0),a)for(s in a)a.hasOwnProperty(s)&&r.setRequestHeader(s.toLowerCase(),a[s]);f.onXhr&&f.onXhr(r,e),r.onreadystatechange=function(t){var a,s;4===r.readyState&&(a=r.status||0,a>399&&600>a?(s=new Error(e+" HTTP status: "+a),s.xhr=r,n&&n(s)):i(r.responseText),f.onXhrComplete&&f.onXhrComplete(r,e))},r.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var i,n,a="utf-8",s=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),l=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),a)),o="";try{for(i=new java.lang.StringBuffer,n=l.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=l.readLine());)i.append(r),i.append(n);o=String(i.toString())}finally{l.close()}t(o)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in n,t.get=function(e,t){var i,r,l,o={};s&&(e=e.replace(/\//g,"\\")),l=new FileUtils.File(e);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),i.init(l,1,0,!1),r=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),r.init(i,"utf-8",i.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(i.available(),o),r.close(),i.close(),t(o.value)}catch(c){throw new Error((l&&l.path||"")+": "+c)}}),t}),define("props",["module","properties","text"],function(e,t,i){function n(e,t){return"define('"+e+"', "+JSON.stringify(t)+");"}var a={};return{load:function(e,t,i){a[e]?i(a[e]):this.get(t.toUrl(e),function(t){a[e]=t,i(t)},function(e){i.error&&i.error(e)})},write:function s(e,t,s){s(n(e,t,a[t]))},get:function(e,n,a){i.get(e,function(e){return n(t.parse(e))},a)},writeOutput:n}}),define("i18n-load",["module","i18n/locales","underscore"],function(e,t,i){function n(e){var n=["en_US"];return i.each(s.fallbacks,function(t){t.test.test(e)&&-1===n.indexOf(t.fallback)&&n.push(t.fallback)}),-1!==t.indexOf(e)&&-1===n.indexOf(e)&&n.push(e),n}function a(e,t){return e+"."+i.last(n(t))}var s=e.config&&e.config()||{};return{load:function(e,t,i,n){n.isBuild||t(["i18n/locale"],function(n){var s=!0;if(s){var r=a(e,n);t([r],function(e){i(e)})}})}}}),define("substitute",["require"],function(e){return function(e){if("string"!=typeof e)return"";if(arguments.length>1)for(var t=0,i=arguments.length;i>t;t++)e=e.replace("{"+t+"}",arguments[t+1]+"");return e}}),function(){var e=window.define||function(e){return e()};e("fitbit-jquery-charsRemaining",["require","jquery","i18n/i18n","i18n-load!com/fitbit/app/modules/message","substitute"],function(e){function t(e){return h(e).data(p.plugin).config}function i(e){var t=1===e?"singular":"plural";return d(l[t],e)}function n(e){return h(e).data(p.plugin).messageEl}function a(e){e=h(e);var a=t(e),s=e.val().length,l=a.maxlength,o=n(e);o.text(i(l-s)),s>=l?o.hasClass(a.errorClass)||(o.removeClass(a.warningClass).addClass(a.errorClass),r(e,"lengthError")):s>=l-a.warningThreshold?o.hasClass(a.warningClass)||(o.removeClass(a.errorClass).addClass(a.warningClass),r(e,"lengthWarning")):(o.hasClass(a.errorClass)&&(o.removeClass(a.errorClass),r(e,"lengthOkay")),o.hasClass(a.warningClass)&&o.removeClass(a.warningClass))}function s(e){console.log(p.plugin+" : "+e)}function r(e,t){h(e).trigger(t)}var l,o="function"==typeof e,c=document.getElementById("requirejs"),h=o?e("jquery"):window.jQuery;if(o&&!c){var u=e("i18n/i18n")();u.namespace(e("i18n-load!com/fitbit/app/modules/message"));var d=e("substitute");l={singular:u("chars_remaining_primary_singular"),plural:u("chars_remaining_primary_plural")}}else{var u=function(e){return e},d=fitbit.i18n.getResource;l={singular:u("com.fitbit.app.modules.message.chars_remaining_primary_singular"),plural:u("com.fitbit.app.modules.message.chars_remaining_primary_plural")}}var p={css:"module-chars-remaining",plugin:"chars_remaining"},f={maxlength:140,warningThreshold:20,warningClass:"warning",errorClass:"exceeded",tagName:"span"},g={init:function(e){var t=h.extend(f,e),n=i(t.maxlength);return(!n||/^\s*$/.test(n))&&s("error initializing, message keys not found"),this.each(function(){var e=h(this);if(e.is("input[type='text'], input[type='password'], textarea")){var i=e.data(p.plugin);if(!i){var s=h("<"+t.tagName+"/>").addClass(p.css).html(n).insertAfter(e);e.data(p.plugin,{target:e,messageEl:s,config:t}),e.on("paste."+p.plugin+" keyup."+p.plugin,function(){setTimeout(function(){a(e)},0)})}}})},reset:function(){return this.each(function(){var e=h(this);e.val(""),a(e)})},destroy:function(){return this.each(function(){var e=h(this);n(e).remove(),e.off("."+p.plugin).removeData(p.plugin)})}};h.fn.charsRemaining=function(e){return h.isFunction(g[e])?g[e].apply(this,Array.prototype.slice.call(arguments,1)):h.isPlainObject(e)||!e?g.init.apply(this,arguments):(s('"'+e+'" does not exist'),this)}})}(),function(){var e=window.define||function(e){return e()};e("fitbit-jquery-peerMessageModal",["require","jquery","jqtools-overlay","jqtools-toolbox-expose","fitbit-jquery-charsRemaining"],function(e){if("function"==typeof e){var t=e("jquery");e("jqtools-overlay"),e("jqtools-toolbox-expose"),e("fitbit-jquery-charsRemaining")}else{var t=window.jQuery;window.curvyCornersNoAutoScan=!0}if(!t.isFunction(t.fn.peerMessageModal)){var i,n,a,s=!1;t.fn.peerMessageModal=function(e){function r(){if(!s){s=!0;var e="failure";i=o.find(".wrapper-form"),n=i.find("textarea").first(),a=o.find(".message-success"),n.charsRemaining({maxlength:c}).on("paste keyup",function(){setTimeout(function(){i.toggleClass(e,!l())},0)})}}function l(){var e=n.val();return e.length<=c&&!/^\s*$/.test(e)}var o=t(this),c=180,h=t.extend({},t.fn.peerMessageModal.defaults,e),u=function(){p.launchModal()},d={overlay:{top:"center",left:"center",mask:{color:"#000",opacity:.6},close:".closeModal, .cancel",zIndex:199999,onLoad:function(){r(),n.get(0).focus()},onClose:function(){i.each(function(e,t){t.reset()}),o.find("form").unbind("submit"),n.charsRemaining("reset"),a.hide()}}},p={launchModal:function(){p.addData(),o.overlay(d.overlay),p.overlay=o.data("overlay"),p.overlay.load()}};p.addData=function(){var e;e=h.userThumb?h.userThumb.replace(/\\"/g,'"'):"/images/profile/defaultProfile_32_male.png";var i=o.find(".modal-header");i.find(".name").text(h.userName).end().find(".photo").empty().append(t("<img/>").attr({src:e,width:40,height:40,alt:""}))},u(),o.find("form").submit(function(e){e.preventDefault(),l()&&t.ajax({type:"POST",url:"/leaderboard/message",data:{apiFormat:"JSON",sendMessage:"on",recipientEncodedUserId:h.userId,msgToSend:n.val(),statType:h.statType,periodType:h.periodType,networkType:h.networkType,networkId:h.networkId,dataType:h.dataType,csrfToken:window.fitbitCsrfToken},dataType:"json",success:function(e){a.fadeIn(200),setTimeout(function(){p.overlay.close()},2e3)}})})}}})}(),function(){var e=window.define||function(e){return e()};e("fitbit-header-notificationDropdown",["require","jquery","fitbit-widget-dropdown","fitbit-jquery-peerMessageModal","i18n/i18n","i18n-load!com/fitbit/app/user/friends/label"],function(e){var t="function"==typeof e,i=document.getElementById("requirejs");if(t){var n=e("jquery"),a=e("fitbit-widget-dropdown");e("fitbit-jquery-peerMessageModal")}else var n=window.jQuery,a=n.isFunction(fitbit.modules.dropdown)&&fitbit.modules.dropdown;if(t&&!i){var s=e("i18n/i18n")();s.namespace(e("i18n-load!com/fitbit/app/user/friends/label"));var r={badges:s("badges"),friend_rankings:s("friend_rankings"),reply:s("reply"),send_message:s("send_message"),view_request:s("view_request"),loading_notifications:s("loading_notifications"),empty_state_notifications:s("empty_state_notifications")},l=function(e){return r[e]?r[e]:""}}else var l=function(e){return fitbit.i18n.getResource("com.fitbit.app.user.friends.label."+e)};var o="isNotificationDropdownInitialized",c=n("#catalyst-notify");if(!c.data(o)){var h=1,u=function(){function t(e){var t=n("<ul>").addClass("listCont");return n.isArray(e.result)&&n.each(e.result,function(){var e,a,s=this,r={},l="";n.each(m,function(e,t){e==s.notifType&&(l=t[0],r.link=t[1],r.actionType=s.notifType)}),n.isPlainObject(this.msgMetaData)&&(r.dataType=this.msgMetaData.dataType,r.statType=this.msgMetaData.statType,r.periodType=this.msgMetaData.periodType,r.networkType=this.msgMetaData.networkType,r.networkId=this.msgMetaData.networkId),r.userId=this.thumbUsrEncId,r.userName=this.thumbUsrDisplayName,r.userThumb=this.thumbImage,"messageCorporate"==r.actionType&&(r=null),e=i(this,r),a=n("<div>").addClass("timeAction").append(n("<span>").text(this.notifTimeLabel)),l.length&&a.append(n("<span>").addClass("link").text(l)),n("<li>").addClass("clearfix").addClass(this.hasBeenRead).data("action",r).append(a,e,n("<div>").addClass("icon").addClass(this.notifType).addClass(this.hasBeenRead),n("<div>").addClass("meat").append(n("<h6>").text(this.notifSysGenMsg),this.notifSysGenHeader?n("<h3>").text(this.notifSysGenHeader):"","messageCorporate"===this.notifType?n("<span>").html(this.notifUsrGenMsg):n("<span>").text(this.notifUsrGenMsg))).appendTo(t)}),t=t.add(n("<div>").addClass("paginate").addClass(!isNaN(e.result.length)&&e.result.length<15?"hide":"").append(n("<span>").text(n("#notificationDropdownTemplate").html())))}function i(e,t){var i=n("<div>").addClass("thumb"),a=n("<a>").addClass("thumbLink"),s=n("<img>").addClass("photo").attr("src",e.thumbImage);return e.thumbMetaData?i.addClass("thumb-badge").append(a.attr("href","/user/"+t.userId).append(s.attr("alt","")),n("<span>").addClass("num").text(e.thumbMetaData.badgeValue),n("<span>").addClass("unit").text(e.thumbMetaData.badgeUnit)):i.append("messageCorporate"===e.notifType?s.addClass("programLogo").attr("alt",e.thumbUsrDisplayName||""):"badge"===e.notifType?a.attr("href",t.link).append(s.attr("alt",e.thumbUsrDisplayName||"")):t&&t.userId?a.attr("href","/user/"+t.userId).append(s.attr("alt",e.thumbUsrDisplayName||"")):s.attr("alt",e.thumbUsrDisplayName||"")),i}function s(){c.find(".icon-notify").removeClass("unread")}function r(e){var t=o(!0);t&&n.ajax({type:"GET",url:"/notifications/view",data:{apiFormat:"JSON",updateLastViewed:"on",highEventId:t},dataType:"json",success:function(e){}})}function o(e){var t=d.notifications.result?d.notifications.result:null,i=d.subsequentNotifications.result?d.subsequentNotifications.result:null,a=[],s=[];if(n.isArray(t)&&n.isArray(i))a=t.concat(i);else{if(!n.isArray(t))return!1;a=[].concat(t)}return n.each(a,function(e,t){s.push(parseInt(t.notifId))}),Math[e?"max":"min"].apply(null,s)}n.firstNotifRequest=!0;var d={notifications:{},subsequentNotifications:{}},p=!0,f="notifyList",g=c,m={friendReq:[l("view_request"),"/user/"],messageSingle:[l("reply"),"#umm"],cheer:[l("reply"),"#umm"],taunt:[l("reply"),"#umm"],passSingle:[l("send_message"),"#umm"],passedBySingle:[l("send_message"),"#umm"],passMultiple:[l("friend_rankings"),"/friends/leaders"],badge:[l("badges"),"/badges/all"],messageCorporate:["",""]};return d.generateTemplateHTML=function(e){var i=(n("#notificationDropdownTemplate").html(),n.isEmptyObject(d.notifications)?!1:d.notifications),a=n.isEmptyObject(d.subsequentNotifications)?!1:d.subsequentNotifications,s={};if(a&&e)s=t(d.subsequentNotifications);else{if(!i)return!1;s=t(d.notifications)}return s},d.showLoader=function(){NotifDD.render('<div class="initialLoading">'+l("loading_notifications")+"</div>"),p?NotifDD.isVisible()||NotifDD.show():NotifDD.toggle()},d.displayNotifList=function(e,t){n.isEmptyObject(d.notifications)?0:d.notifications.result.length;NotifDD.render(e,t),p||t||d.markAsRead(),p||t?NotifDD.isVisible()||NotifDD.show():NotifDD.toggle(),t||(r(),s())},d.init=function(e){p&&d.bindEvents(),d.displayNotifList(d.generateTemplateHTML()),p=!1},d.bindEvents=function(){n("."+f).on("click",".paginate",function(){var e=this;n(e).addClass("spinner"),n.ajax({type:"GET",url:"/notifications/view",data:{apiFormat:"JSON",lowEventId:o(!1)},dataType:"json",success:function(t){t.result.length>0&&(u.saveJSON(t),d.displayNotifList(d.generateTemplateHTML(!0),!0),d.notifications.result=d.notifications.result.concat(d.subsequentNotifications.result),d.subsequentNotifications.result=[]),n(e).html("").removeClass("spinner, paginate").addClass("divider")}})}),n("."+f).on("click",".link",function(){var e=n(this).closest("li").data("action");return/^#umm/.test(e.link)?void d.notificationMessageModal(e):(/^\/user\/$/.test(e.link)&&(e.link+=e.userId),void d.notificationLink(e))})},d.notificationLink=function(e){window.location=e.link},d.showPeerMessageModal=function(e){n("#peerMessageModal").peerMessageModal(n.extend(e,{}))},d.showFriendBlockedModal=function(t){e(["fitbit-jquery-friendBlockedModal","fitbit-jquery-friendRequestModal"],function(){n("#friendBlockedModal").friendBlockedModal({userId:t.userId,userName:t.userName,callback:function(){d.sendSingleInvitation(t)},closeBeforeCallback:!1})})},d.sendSingleInvitation=function(t){e(["shared/scripts/modules/api-client"],function(e){var i=e.makeFullUrl("/"+h+"/user/-/friends/invitations.json"),a={invitedUserId:t.userId};e.ajax({url:i,type:"POST",data:a,dataType:"json",success:function(e,t,i){n("#friendRequestContent").hide(),n("#friendRequestSuccess").show(),n("#friendRequestError").hide(),setTimeout(function(){n("#friendRequestModal").data("overlay").close()},1e3)},error:function(e,t,i){n("#friendRequestContent").hide(),n("#friendRequestSuccess").hide(),n("#friendRequestError").show(),setTimeout(function(){n("#friendRequestModal").data("overlay").close()},1e3)}})})},d.showNonfriendMessageModal=function(t){e(["fitbit-jquery-nonfriendMessageModal"],function(){n("#nonfriendMessageModal").nonfriendMessageModal()})},d.notificationMessageModal=function(t){var i=t.userId;e(["relationshipStatus"],function(e){e.determine(i,function(e){return"blocked"===e?void d.showFriendBlockedModal(t):(NotifDD.isVisible()&&NotifDD.hide(),void("friend"===e?d.showPeerMessageModal(t):d.showNonfriendMessageModal(t)))})})},d.saveJSON=function(e){e&&p&&e.result.length>0?n.extend(d.notifications,e):e&&e.result.length>0&&n.extend(d.subsequentNotifications,e)},d.markAsRead=function(){n("."+f).find("li").addClass("read").end().find(".icon").addClass("read").end().find(".paginate").removeClass("spinner")},d.newDropdown=function(){g.length&&(NotifDD=new a(g,{className:f+" subnav subnav-app",anchorPoint:"below right",manualShowEnabled:!0,catalystActiveClass:"active",mouseBoundaryDetectionEnabled:!1}),NotifDD.setPositionOffset(-51,0))},d}();n(function(){u.newDropdown(),c.addClass("hasdropdown"),c.data(o,!0),c.on("mousedown",function(){var e=l("empty_state_notifications");n.firstNotifRequest?(u.showLoader(),n.firstNotifRequest=!1,n.ajax({type:"GET",url:"/notifications/view",data:{apiFormat:"JSON"},dataType:"json",success:function(t){t.result.length>0?(u.saveJSON(t),u.init()):n(".initialLoading").addClass("empty").html(e)}})):u.init()})})}})}(),function(){this.MooTools={version:"1.4.5",build:"ab8ea8824dc3b24b6666867a2c4ed58ebb762cf0"};var e=this.typeOf=function(e){if(null==e)return"null";if(null!=e.$family)return e.$family();if(e.nodeName){if(1==e.nodeType)return"element";if(3==e.nodeType)return/\S/.test(e.nodeValue)?"textnode":"whitespace"}else if("number"==typeof e.length){if(e.callee)return"arguments";if("item"in e)return"collection"}return typeof e},t=(this.instanceOf=function(e,t){if(null==e)return!1;for(var i=e.$constructor||e.constructor;i;){if(i===t)return!0;i=i.parent}return e.hasOwnProperty?e instanceof t:!1},this.Function),i=!0;for(var n in{toString:1})i=null;i&&(i=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),t.prototype.overloadSetter=function(e){var t=this;return function(n,a){if(null==n)return this;if(e||"string"!=typeof n){for(var s in n)t.call(this,s,n[s]);if(i)for(var r=i.length;r--;)s=i[r],n.hasOwnProperty(s)&&t.call(this,s,n[s])}else t.call(this,n,a);return this}},t.prototype.overloadGetter=function(e){var t=this;return function(i){var n,a;if("string"!=typeof i?n=i:arguments.length>1?n=arguments:e&&(n=[i]),n){a={};for(var s=0;s<n.length;s++)a[n[s]]=t.call(this,n[s])}else a=t.call(this,i);return a}},t.prototype.extend=function(e,t){this[e]=t}.overloadSetter(),t.prototype.implement=function(e,t){this.prototype[e]=t}.overloadSetter();var a=Array.prototype.slice;t.from=function(t){return"function"==e(t)?t:function(){return t}},Array.from=function(t){return null==t?[]:s.isEnumerable(t)&&"string"!=typeof t?"array"==e(t)?t:a.call(t):[t]},Number.from=function(e){var t=parseFloat(e);return isFinite(t)?t:null},String.from=function(e){return e+""},t.implement({hide:function(){return this.$hidden=!0,this},protect:function(){return this.$protected=!0,this}});var s=this.Type=function(t,i){if(t){var n=t.toLowerCase(),a=function(t){return e(t)==n};s["is"+t]=a,null!=i&&(i.prototype.$family=function(){return n}.hide())}return null==i?null:(i.extend(this),i.$constructor=s,i.prototype.$constructor=i,i)},r=Object.prototype.toString;s.isEnumerable=function(e){return null!=e&&"number"==typeof e.length&&"[object Function]"!=r.call(e)};var l={},o=function(t){var i=e(t.prototype);return l[i]||(l[i]=[])},c=function(t,i){if(!i||!i.$hidden){for(var n=o(this),s=0;s<n.length;s++){var r=n[s];"type"==e(r)?c.call(r,t,i):r.call(this,t,i)}var l=this.prototype[t];null!=l&&l.$protected||(this.prototype[t]=i),null==this[t]&&"function"==e(i)&&h.call(this,t,function(e){return i.apply(e,a.call(arguments,1))})}},h=function(e,t){if(!t||!t.$hidden){var i=this[e];null!=i&&i.$protected||(this[e]=t)}};s.implement({implement:c.overloadSetter(),extend:h.overloadSetter(),alias:function(e,t){c.call(this,e,this.prototype[t])}.overloadSetter(),mirror:function(e){return o(this).push(e),this}}),new s("Type",s);var u=function(e,t,i){var n=t!=Object,a=t.prototype;n&&(t=new s(e,t));for(var r=0,l=i.length;l>r;r++){var o=i[r],c=t[o],h=a[o];c&&c.protect(),n&&h&&t.implement(o,h.protect())}if(n){var d=a.propertyIsEnumerable(i[0]);t.forEachMethod=function(e){if(!d)for(var t=0,n=i.length;n>t;t++)e.call(a,a[i[t]],i[t]);for(var s in a)e.call(a,a[s],s)}}return u};u("String",String,["charAt","charCodeAt","concat","indexOf","lastIndexOf","match","quote","replace","search","slice","split","substr","substring","trim","toLowerCase","toUpperCase"])("Array",Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight"])("Number",Number,["toExponential","toFixed","toLocaleString","toPrecision"])("Function",t,["apply","call","bind"])("RegExp",RegExp,["exec","test"])("Object",Object,["create","defineProperty","defineProperties","keys","getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","preventExtensions","isExtensible","seal","isSealed","freeze","isFrozen"])("Date",Date,["now"]),Object.extend=h.overloadSetter(),Date.extend("now",function(){return+new Date}),new s("Boolean",Boolean),Number.prototype.$family=function(){return isFinite(this)?"number":"null"}.hide(),Number.extend("random",function(e,t){return Math.floor(Math.random()*(t-e+1)+e)});var d=Object.prototype.hasOwnProperty;Object.extend("forEach",function(e,t,i){for(var n in e)d.call(e,n)&&t.call(i,e[n],n,e)}),Object.each=Object.forEach,Array.implement({forEach:function(e,t){for(var i=0,n=this.length;n>i;i++)i in this&&e.call(t,this[i],i,this)},each:function(e,t){return Array.forEach(this,e,t),this}});var p=function(t){switch(e(t)){case"array":return t.clone();case"object":return Object.clone(t);default:return t}};Array.implement("clone",function(){for(var e=this.length,t=new Array(e);e--;)t[e]=p(this[e]);return t});var f=function(t,i,n){switch(e(n)){case"object":"object"==e(t[i])?Object.merge(t[i],n):t[i]=Object.clone(n);break;case"array":t[i]=n.clone();break;default:t[i]=n}return t};Object.extend({merge:function(t,i,n){if("string"==e(i))return f(t,i,n);for(var a=1,s=arguments.length;s>a;a++){var r=arguments[a];for(var l in r)f(t,l,r[l])}return t},clone:function(e){var t={};for(var i in e)t[i]=p(e[i]);return t},append:function(e){for(var t=1,i=arguments.length;i>t;t++){var n=arguments[t]||{};for(var a in n)e[a]=n[a]}return e}}),["Object","WhiteSpace","TextNode","Collection","Arguments"].each(function(e){new s(e)});var g=Date.now();String.extend("uniqueID",function(){return(g++).toString(36)})}(),Array.implement({every:function(e,t){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&!e.call(t,this[i],i,this))return!1;return!0},filter:function(e,t){for(var i,n=[],a=0,s=this.length>>>0;s>a;a++)a in this&&(i=this[a],e.call(t,i,a,this)&&n.push(i));return n},indexOf:function(e,t){for(var i=this.length>>>0,n=0>t?Math.max(0,i+t):t||0;i>n;n++)if(this[n]===e)return n;return-1},map:function(e,t){for(var i=this.length>>>0,n=Array(i),a=0;i>a;a++)a in this&&(n[a]=e.call(t,this[a],a,this));return n},some:function(e,t){for(var i=0,n=this.length>>>0;n>i;i++)if(i in this&&e.call(t,this[i],i,this))return!0;return!1},clean:function(){return this.filter(function(e){return null!=e})},invoke:function(e){var t=Array.slice(arguments,1);return this.map(function(i){return i[e].apply(i,t)})},associate:function(e){for(var t={},i=Math.min(this.length,e.length),n=0;i>n;n++)t[e[n]]=this[n];return t},link:function(e){for(var t={},i=0,n=this.length;n>i;i++)for(var a in e)if(e[a](this[i])){t[a]=this[i],delete e[a];break}return t},contains:function(e,t){return-1!=this.indexOf(e,t)},append:function(e){return this.push.apply(this,e),this},getLast:function(){return this.length?this[this.length-1]:null},getRandom:function(){return this.length?this[Number.random(0,this.length-1)]:null},include:function(e){return this.contains(e)||this.push(e),this},combine:function(e){for(var t=0,i=e.length;i>t;t++)this.include(e[t]);return this},erase:function(e){for(var t=this.length;t--;)this[t]===e&&this.splice(t,1);return this},empty:function(){return this.length=0,this},flatten:function(){for(var e=[],t=0,i=this.length;i>t;t++){var n=typeOf(this[t]);"null"!=n&&(e=e.concat("array"==n||"collection"==n||"arguments"==n||instanceOf(this[t],Array)?Array.flatten(this[t]):this[t]))}return e},pick:function(){for(var e=0,t=this.length;t>e;e++)if(null!=this[e])return this[e];return null},hexToRgb:function(e){if(3!=this.length)return null;var t=this.map(function(e){return 1==e.length&&(e+=e),e.toInt(16)});return e?t:"rgb("+t+")"},rgbToHex:function(e){if(this.length<3)return null;if(4==this.length&&0==this[3]&&!e)return"transparent";for(var t=[],i=0;3>i;i++){var n=(this[i]-0).toString(16);t.push(1==n.length?"0"+n:n)}return e?t:"#"+t.join("")}}),String.implement({test:function(e,t){return("regexp"==typeOf(e)?e:new RegExp(""+e,t)).test(this)},contains:function(e,t){return t?(t+this+t).indexOf(t+e+t)>-1:String(this).indexOf(e)>-1},trim:function(){return String(this).replace(/^\s+|\s+$/g,"")},clean:function(){return String(this).replace(/\s+/g," ").trim()},camelCase:function(){return String(this).replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()})},hyphenate:function(){return String(this).replace(/[A-Z]/g,function(e){return"-"+e.charAt(0).toLowerCase()})},capitalize:function(){return String(this).replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},escapeRegExp:function(){return String(this).replace(/([-.*+?^{$}()|[\]\/\\])/g,"\\$1")},toInt:function(e){return parseInt(this,e||10)},toFloat:function(){return parseFloat(this)},hexToRgb:function(e){var t=String(this).match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return t?t.slice(1).hexToRgb(e):null},rgbToHex:function(e){var t=String(this).match(/\d{1,3}/g);return t?t.rgbToHex(e):null},substitute:function(e,t){return String(this).replace(t||/\\?\{([^{}]+)\}/g,function(t,i){return"\\"==t.charAt(0)?t.slice(1):null!=e[i]?e[i]:""})}}),Number.implement({limit:function(e,t){return Math.min(t,Math.max(e,this))},round:function(e){return e=Math.pow(10,e||0).toFixed(0>e?-e:0),Math.round(this*e)/e},times:function(e,t){for(var i=0;this>i;i++)e.call(t,i,this)},toFloat:function(){return parseFloat(this)},toInt:function(e){return parseInt(this,e||10)}}),Number.alias("each","times"),function(e){var t={};e.each(function(e){Number[e]||(t[e]=function(){return Math[e].apply(null,[this].concat(Array.from(arguments)))})}),Number.implement(t)}(["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","sin","sqrt","tan"]),Function.extend({attempt:function(){for(var e=0,t=arguments.length;t>e;e++)try{return arguments[e]()}catch(i){}return null}}),Function.implement({attempt:function(e,t){try{return this.apply(t,Array.from(e))}catch(i){}return null},bind:function(e){var t=this,i=arguments.length>1?Array.slice(arguments,1):null,n=function(){},a=function(){var s=e,r=arguments.length;this instanceof a&&(n.prototype=t.prototype,s=new n);var l=i||r?t.apply(s,i&&r?i.concat(Array.slice(arguments)):i||arguments):t.call(s);return s==e?l:s};return a},pass:function(e,t){var i=this;return null!=e&&(e=Array.from(e)),function(){return i.apply(t,e||arguments)}},delay:function(e,t,i){return setTimeout(this.pass(null==i?[]:i,t),e)},periodical:function(e,t,i){return setInterval(this.pass(null==i?[]:i,t),e)}}),function(){var e=this.document,t=e.window=this,i=navigator.userAgent.toLowerCase(),n=navigator.platform.toLowerCase(),a=i.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],s="ie"==a[1]&&e.documentMode,r=this.Browser={extend:Function.prototype.extend,name:"version"==a[1]?a[3]:a[1],version:s||parseFloat("opera"==a[1]&&a[4]?a[4]:a[2]),Platform:{name:i.match(/ip(?:ad|od|hone)/)?"ios":(i.match(/(?:webos|android)/)||n.match(/mac|win|linux/)||["other"])[0]},Features:{xpath:!!e.evaluate,air:!!t.runtime,query:!!e.querySelector,json:!!t.JSON},Plugins:{}};r[r.name]=!0,r[r.name+parseInt(r.version,10)]=!0,r.Platform[r.Platform.name]=!0,r.Request=function(){var e=function(){return new XMLHttpRequest},t=function(){return new ActiveXObject("MSXML2.XMLHTTP")},i=function(){return new ActiveXObject("Microsoft.XMLHTTP")};return Function.attempt(function(){return e(),e},function(){return t(),t},function(){return i(),i})}(),r.Features.xhr=!!r.Request;var l=(Function.attempt(function(){return navigator.plugins["Shockwave Flash"].description},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})||"0 r0").match(/\d+/g);if(r.Plugins.Flash={version:Number(l[0]||"0."+l[1])||0,build:Number(l[2])||0},r.exec=function(i){if(!i)return i;if(t.execScript)t.execScript(i);else{var n=e.createElement("script");n.setAttribute("type","text/javascript"),n.text=i,e.head.appendChild(n),e.head.removeChild(n)}return i},String.implement("stripScripts",function(e){var t="",i=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(e,i){return t+=i+"\n",""});return e===!0?r.exec(t):"function"==typeOf(e)&&e(t,i),i}),r.extend({Document:this.Document,Window:this.Window,Element:this.Element,Event:this.Event}),this.Window=this.$constructor=new Type("Window",function(){}),this.$family=Function.from("window").hide(),Window.mirror(function(e,i){t[e]=i}),this.Document=e.$constructor=new Type("Document",function(){}),e.$family=Function.from("document").hide(),Document.mirror(function(t,i){e[t]=i}),e.html=e.documentElement,e.head||(e.head=e.getElementsByTagName("head")[0]),e.execCommand)try{e.execCommand("BackgroundImageCache",!1,!0)}catch(o){}if(this.attachEvent&&!this.addEventListener){var c=function(){this.detachEvent("onunload",c),e.head=e.html=e.window=null};this.attachEvent("onunload",c)}var h=Array.from;try{h(e.html.childNodes)}catch(o){Array.from=function(e){if("string"!=typeof e&&Type.isEnumerable(e)&&"array"!=typeOf(e)){for(var t=e.length,i=new Array(t);t--;)i[t]=e[t];return i}return h(e)};var u=Array.prototype,d=u.slice;["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice"].each(function(e){var t=u[e];Array[e]=function(e){return t.apply(Array.from(e),d.call(arguments,1))}})}}(),function(){var e=Object.prototype.hasOwnProperty;Object.extend({subset:function(e,t){for(var i={},n=0,a=t.length;a>n;n++){var s=t[n];s in e&&(i[s]=e[s])}return i},map:function(t,i,n){var a={};for(var s in t)e.call(t,s)&&(a[s]=i.call(n,t[s],s,t));return a},filter:function(t,i,n){var a={};for(var s in t){var r=t[s];e.call(t,s)&&i.call(n,r,s,t)&&(a[s]=r)}return a},every:function(t,i,n){for(var a in t)if(e.call(t,a)&&!i.call(n,t[a],a))return!1;return!0},some:function(t,i,n){for(var a in t)if(e.call(t,a)&&i.call(n,t[a],a))return!0;return!1},keys:function(t){var i=[];for(var n in t)e.call(t,n)&&i.push(n);return i},values:function(t){var i=[];for(var n in t)e.call(t,n)&&i.push(t[n]);return i},getLength:function(e){return Object.keys(e).length},keyOf:function(t,i){for(var n in t)if(e.call(t,n)&&t[n]===i)return n;return null},contains:function(e,t){return null!=Object.keyOf(e,t)},toQueryString:function(e,t){var i=[];return Object.each(e,function(e,n){t&&(n=t+"["+n+"]");var a;switch(typeOf(e)){case"object":a=Object.toQueryString(e,n);break;case"array":var s={};e.each(function(e,t){s[t]=e}),a=Object.toQueryString(s,n);break;default:a=n+"="+encodeURIComponent(e)}null!=e&&i.push(a)}),i.join("&")}})}(),function(){var e={},t=this.DOMEvent=new Type("DOMEvent",function(t,i){if(i||(i=window),t=t||i.event,t.$extended)return t;this.event=t,this.$extended=!0,this.shift=t.shiftKey,this.control=t.ctrlKey,this.alt=t.altKey,this.meta=t.metaKey;for(var n=this.type=t.type,a=t.target||t.srcElement;a&&3==a.nodeType;)a=a.parentNode;if(this.target=document.id(a),0==n.indexOf("key")){var s=this.code=t.which||t.keyCode;this.key=e[s],"keydown"==n&&(s>111&&124>s?this.key="f"+(s-111):s>95&&106>s&&(this.key=s-96)),null==this.key&&(this.key=String.fromCharCode(s).toLowerCase())}else if("click"==n||"dblclick"==n||"contextmenu"==n||"DOMMouseScroll"==n||0==n.indexOf("mouse")){var r=i.document;if(r=r.compatMode&&"CSS1Compat"!=r.compatMode?r.body:r.html,this.page={x:null!=t.pageX?t.pageX:t.clientX+r.scrollLeft,y:null!=t.pageY?t.pageY:t.clientY+r.scrollTop},this.client={x:null!=t.pageX?t.pageX-i.pageXOffset:t.clientX,y:null!=t.pageY?t.pageY-i.pageYOffset:t.clientY},("DOMMouseScroll"==n||"mousewheel"==n)&&(this.wheel=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),this.rightClick=3==t.which||2==t.button,"mouseover"==n||"mouseout"==n){for(var l=t.relatedTarget||t[("mouseover"==n?"from":"to")+"Element"];l&&3==l.nodeType;)l=l.parentNode;this.relatedTarget=document.id(l)}}else if(0==n.indexOf("touch")||0==n.indexOf("gesture")){this.rotation=t.rotation,this.scale=t.scale,this.targetTouches=t.targetTouches,this.changedTouches=t.changedTouches;var o=this.touches=t.touches;if(o&&o[0]){var c=o[0];this.page={x:c.pageX,y:c.pageY},this.client={x:c.clientX,y:c.clientY}}}this.client||(this.client={}),this.page||(this.page={})});t.implement({stop:function(){return this.preventDefault().stopPropagation();
},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this}}),t.defineKey=function(t,i){return e[t]=i,this},t.defineKeys=t.defineKey.overloadSetter(!0),t.defineKeys({38:"up",40:"down",37:"left",39:"right",27:"esc",32:"space",8:"backspace",9:"tab",46:"delete",13:"enter"})}(),function(){var e=this.Class=new Type("Class",function(n){instanceOf(n,Function)&&(n={initialize:n});var a=function(){if(i(this),a.$prototyping)return this;this.$caller=null;var e=this.initialize?this.initialize.apply(this,arguments):this;return this.$caller=this.caller=null,e}.extend(this).implement(n);return a.$constructor=e,a.prototype.$constructor=a,a.prototype.parent=t,a}),t=function(){if(!this.$caller)throw new Error('The method "parent" cannot be called.');var e=this.$caller.$name,t=this.$caller.$owner.parent,i=t?t.prototype[e]:null;if(!i)throw new Error('The method "'+e+'" has no parent.');return i.apply(this,arguments)},i=function(e){for(var t in e){var n=e[t];switch(typeOf(n)){case"object":var a=function(){};a.prototype=n,e[t]=i(new a);break;case"array":e[t]=n.clone()}}return e},n=function(e,t,i){i.$origin&&(i=i.$origin);var n=function(){if(i.$protected&&null==this.$caller)throw new Error('The method "'+t+'" cannot be called.');var e=this.caller,a=this.$caller;this.caller=a,this.$caller=n;var s=i.apply(this,arguments);return this.$caller=a,this.caller=e,s}.extend({$owner:e,$origin:i,$name:t});return n},a=function(t,i,a){if(e.Mutators.hasOwnProperty(t)&&(i=e.Mutators[t].call(this,i),null==i))return this;if("function"==typeOf(i)){if(i.$hidden)return this;this.prototype[t]=a?i:n(this,t,i)}else Object.merge(this.prototype,t,i);return this},s=function(e){e.$prototyping=!0;var t=new e;return delete e.$prototyping,t};e.implement("implement",a.overloadSetter()),e.Mutators={Extends:function(e){this.parent=e,this.prototype=s(e)},Implements:function(e){Array.from(e).each(function(e){var t=new e;for(var i in t)a.call(this,i,t[i],!0)},this)}}}(),function(){this.Chain=new Class({$chain:[],chain:function(){return this.$chain.append(Array.flatten(arguments)),this},callChain:function(){return this.$chain.length?this.$chain.shift().apply(this,arguments):!1},clearChain:function(){return this.$chain.empty(),this}});var e=function(e){return e.replace(/^on([A-Z])/,function(e,t){return t.toLowerCase()})};this.Events=new Class({$events:{},addEvent:function(t,i,n){return t=e(t),this.$events[t]=(this.$events[t]||[]).include(i),n&&(i.internal=!0),this},addEvents:function(e){for(var t in e)this.addEvent(t,e[t]);return this},fireEvent:function(t,i,n){t=e(t);var a=this.$events[t];return a?(i=Array.from(i),a.each(function(e){n?e.delay(n,this,i):e.apply(this,i)},this),this):this},removeEvent:function(t,i){t=e(t);var n=this.$events[t];if(n&&!i.internal){var a=n.indexOf(i);-1!=a&&delete n[a]}return this},removeEvents:function(t){var i;if("object"==typeOf(t)){for(i in t)this.removeEvent(i,t[i]);return this}t&&(t=e(t));for(i in this.$events)if(!t||t==i)for(var n=this.$events[i],a=n.length;a--;)a in n&&this.removeEvent(i,n[a]);return this}}),this.Options=new Class({setOptions:function(){var e=this.options=Object.merge.apply(null,[{},this.options].append(arguments));if(this.addEvent)for(var t in e)"function"==typeOf(e[t])&&/^on[A-Z]/.test(t)&&(this.addEvent(t,e[t]),delete e[t]);return this}})}(),"undefined"==typeof JSON&&(this.JSON={}),function(){var special={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escape=function(e){return special[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)};JSON.validate=function(e){return e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e)},JSON.encode=JSON.stringify?function(e){return JSON.stringify(e)}:function(e){switch(e&&e.toJSON&&(e=e.toJSON()),typeOf(e)){case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":return"["+e.map(JSON.encode).clean()+"]";case"object":case"hash":var t=[];return Object.each(e,function(e,i){var n=JSON.encode(e);n&&t.push(JSON.encode(i)+":"+n)}),"{"+t+"}";case"number":case"boolean":return""+e;case"null":return"null"}return null},JSON.decode=function(string,secure){if(!string||"string"!=typeOf(string))return null;if(secure||JSON.secure){if(JSON.parse)return JSON.parse(string);if(!JSON.validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.")}return eval("("+string+")")}}(),define("mootools",function(){}),define("galileo/prototype/array",["require","mootools"],function(e){e("mootools"),Array.implement({reindex:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this[e[i]];return t},sortBy:function(e){return this.sort(function(t,i){var n=e(t),a=e(i);return a>n?-1:n>a?1:0}),this},group:function(e){if(this.length<e)return[];var t=this.slice(1).group(e);return t.unshift(this.slice(0,e)),t},zipWith:function(e,t){for(var i=Math.min(this.length,e.length),n=[],a=0;i>a;a++)n.push(t(this[a],e[a],a));return n},shuffle:function(){for(var e=this.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),i=this[e];this[e]=this[t],this[t]=i}return this},find:function(e){for(var t=0;t<this.length;t++)if(e(this[t])===!0)return this[t];return null}})}),define("galileo/prototype/function",["require","mootools"],function(e){e("mootools"),Function.extend({id:function(e){return e},takeKey:function(){var e=Array.from(arguments);return function(t){for(var i=e.slice(0);i.length;)t=t[i.shift()];return t}},join:function(){var e=Array.from(arguments),t=e.pop(),i=[],n=this,a=0;e.map(function(s,r){s(function(s){r in i||a++,i[r]=s,a==e.length&&t.apply(n,i)})})}})}),define("galileo/util/dateUtil",["require","i18n/i18n","substitute","jquery","galileo/prototype/array","galileo/prototype/function","i18n-load!com/fitbit/util/relativedateutil","i18n-load!core/com/fitbit/util/dateformat"],function(e){function t(e,t){var i=e.split(",").map(function(e){return e.trim()});return i.length<=1?t:i}function i(e,t,i){var n=e.getFullYear()%100,a={yyyy:e.getFullYear(),yy:n>9?""+n:"0"+n,MMMM:w[e.getMonth()],MMM:_[e.getMonth()],MM:e.getMonth()>=9?""+(e.getMonth()+1):"0"+(e.getMonth()+1),M:""+(e.getMonth()+1),dd:e.getDate()>9?""+e.getDate():"0"+e.getDate(),d:""+e.getDate(),EEEE:v[e.getDay()],EEE:y[e.getDay()],E:b[e.getDay()],HH:e.getHours()>9?""+e.getHours():"0"+e.getHours(),hh:""+(e.getHours()%12||12),mm:e.getMinutes()>9?""+e.getMinutes():"0"+e.getMinutes(),ss:e.getSeconds()>9?""+e.getSeconds():"0"+e.getSeconds(),H:""+e.getHours(),h:""+(e.getHours()%12||12),m:""+e.getMinutes(),s:""+e.getSeconds(),a:e.getHours()>=12?m[1]:m[0]};if(i=i?i:g,!i[t]&&!a[t])throw"Unsupported localized date format: "+t;return a[t]?a[t]:(d=d||new RegExp("("+Object.keys(a).sortBy(Function.takeKey("length")).reverse().join("|")+")","g"),i[t].replace(d,function(e){return a[e]}))}function n(e,t,i){var n,s="",r=60,l=60*r,o=24*l,c=7*o,d=4*c,p=12*d,g=function(e,t){return i[e]?h(i[e],t):""};if(i=i?i:f,t)try{e=a(e,"Z"===e.charAt(e.length-1))}catch(m){return console&&console.log("_getRelativeDate: improperly formatted ISO8601 date string"),""}return n=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3),u.isNumeric(n)&&(s=30>n?g("just_now",n):r>n?g("seconds",n):2*r>n?g("minute","1"):l>n?g("minutes",Math.floor(n/r)):2*l>n?g("hour","1"):o>n?g("hours",Math.floor(n/l)):2*o>n?g("day","1"):c>n?g("days",Math.floor(n/o)):2*c>n?g("week","1"):3*d>n?g("weeks",Math.floor(n/c)):2*p>n?g("months",Math.floor(n/d)):g("years",Math.floor(n/p))),s}function a(e,t){var i,n=e.match(/([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?/),a=0,s=new Date(n[1],0,1);return n[3]&&s.setMonth(n[3]-1),n[5]&&s.setDate(n[5]),n[7]&&s.setHours(n[7]),n[8]&&s.setMinutes(n[8]),n[10]&&s.setSeconds(n[10]),n[12]&&s.setMilliseconds(1e3*Number("0."+n[12])),n[14]&&(a=60*Number(n[16])+Number(n[17]),a*="-"===n[15]?1:-1),t||(a-=s.getTimezoneOffset()),i=new Date,i.setTime(Number(Number(s)+60*a*1e3)),i}function s(e){var t=function(e){return 1===(""+e).length?"0"+e:""+e};return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())}function r(e){var t=e.split(" "),i=t[0].split("-");if(t.length>1){var n=t[1].split(":");return new Date(i[0],i[1]-1,i[2],n[0],n[1],n[2])}return new Date(i[0],i[1]-1,i[2])}function l(e){var t=e.split(":"),i=new Date;return i.setHours(t[0]),i.setMinutes(t[1]),i.setSeconds(0),i.setMilliseconds(0),i}function o(e,t){return function(i,n){var a=new Date(i.getTime());return a["set"+e](a["get"+e]()+t(n)),a}}var c=e("i18n/i18n")(),h=e("substitute"),u=e("jquery");e("galileo/prototype/array"),e("galileo/prototype/function"),c.namespace(e("i18n-load!com/fitbit/util/relativedateutil")),c.namespace(e("i18n-load!core/com/fitbit/util/dateformat"));var d,p=c.inNamespace("com.fitbit.util.dateformat"),f={just_now:c("just_now"),seconds:c("seconds"),minute:c("minute"),minutes:c("minutes"),hour:c("hour"),hours:c("hours"),day:c("day"),days:c("days"),week:c("week"),weeks:c("weeks"),months:c.inNamespace("com.fitbit.util.relativedateutil")("months"),years:c("years")},g={"EEE, MMM d":c("weekday_month_date_medium"),"EEE, M/d":c("weekday_month_date_short"),"M/dd/yyyy":c("month_date_year_short"),"MMMM dd, yyyy":c("month_date_year_long"),"MMM dd, yyyy":c("month_date_year_medium"),MMM:p("month"),"MMM dd":c("month_date"),"MMMM dd":c("month_date_long"),"MMMM d":c("month_long_date_short"),"MMM yyyy":c("month_year_medium"),"MMMM yyyy":c("month_year"),EEE:c("weekday"),"EEEE, MMMM dd":c("weekday_month_date_long"),"EEE, MMM d, yyyy":c("weekday_month_date_year"),"MMM d, hh:mm a":c("month_date_time"),"MMM d, HH:mm":c("month_date_time_24"),"hh:mm a":c("dash_time_12"),"hh:mm:ss":"hh:mm:ss","HH:mm":c("dash_time_24"),"HH:mm:ss":"HH:mm:ss","hh:mm":"hh:mm",hha:"hha"},m=t(p("am_pm"),["AM","PM"]),v=t(p("weekdays"),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),y=t(p("short_weekdays"),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),b=t(p("extramin_weekdays"),["S","M","T","W","T","F","S"]),w=t(p("months"),["January","February","March","April","May","June","July","August","September","October","November","December"]),_=t(p("short_months"),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);return{getRelativeDate:n,getDateFromISO8601:a,ajaxEncode:s,ajaxDecode:r,forTime:l,plusMinutes:o("Time",function(e){return 60*e*1e3}),minusMinutes:o("Time",function(e){return-(60*e*1e3)}),plusDays:o("Date",function(e){return e}),minusDays:o("Date",function(e){return-e}),plusWeeks:o("Date",function(e){return 7*e}),minusWeeks:o("Date",function(e){return 7*-e}),plusMonths:o("Month",function(e){return e}),minusMonths:o("Month",function(e){return-e}),plusYears:o("FullYear",function(e){return e}),minusYears:o("FullYear",function(e){return-e}),localeFormat:i,diff:function(e,t){return e.getTime()-t.getTime()},diffInSeconds:function(e,t,i){var n=this.diff(e,t)/1e3;return i?n:Math.abs(n)!==n?Math.ceil(n):Math.floor(n)},diffInMinutes:function(e,t,i){var n=this.diffInSeconds(e,t,!0)/60;return i?n:Math.abs(n)!==n?Math.ceil(n):Math.floor(n)},diffInHours:function(e,t,i){var n=this.diffInMinutes(e,t,!0)/60;return i?n:Math.abs(n)!==n?Math.ceil(n):Math.floor(n)},diffInDays:function(e,t){return this.diffInHours(new Date(e.toDateString()),new Date(t.toDateString()))/24},getMonthNames:function(){return w},getShortMonthNames:function(){return _},getWeekdayNames:function(){return v},getShortWeekdayNames:function(){return y},isToday:function(e){return e?0===this.diffInDays(new Date,e):!1},isYesterday:function(e){return e?1===this.diffInDays(new Date,e):!1},isBefore:function(e,t){return this.diff(e,t)<0}}}),define("messages-deviceNames",["require","i18n/i18n","i18n-load!com/fitbit/app/device/message"],function(e){var t=e("i18n/i18n")();return t.namespace(e("i18n-load!com/fitbit/app/device/message")),{FLOJO:{name:t("device_name_FLOJO"),displayName:t("device_displayName_FLOJO")},KEPLER:{name:t("device_name_KEPLER"),displayName:t("device_displayName_KEPLER")},VIRTUAL_KEPLER:{name:t("device_name_KEPLER"),displayName:t("device_displayName_KEPLER")},TYCHO:{name:t("device_name_TYCHO"),displayName:t("device_displayName_TYCHO")},GALILEO:{name:t("device_name_GALILEO"),displayName:t("device_displayName_GALILEO")},HADRON:{name:t("device_name_HADRON"),displayName:t("device_displayName_HADRON")},QUARK:{name:t("device_name_QUARK"),displayName:t("device_displayName_QUARK")},NEUTRINO:{name:t("device_name_NEUTRINO"),displayName:t("device_displayName_NEUTRINO")},GRAVITON:{name:t("device_name_GRAVITON"),displayName:t("device_displayName_GRAVITON")},TAU:{name:t("device_name_TAU"),displayName:t("device_displayName_TAU")},PROTON:{name:t("device_name_PROTON"),displayName:t("device_displayName_PROTON")},ELECTRON:{name:t("device_name_ELECTRON"),displayName:t("device_displayName_ELECTRON")},LEPTON:{name:t("device_name_LEPTON"),displayName:t("device_displayName_LEPTON")}}}),define("messages-batteryLevels",["require","i18n/i18n","i18n-load!com/fitbit/app/device/message"],function(e){var t=e("i18n/i18n")();return t.namespace(e("i18n-load!com/fitbit/app/device/message")),{empty:t("battery_empty"),low:t("battery_low"),medium:t("battery_medium"),high:t("battery_high"),full:t("battery_full"),unknown:t("battery_unknown")}}),define("galileo/builder/text",["require","jquery"],function(e){return e("jquery"),function(e,t){for(var i={italic:{"font-style":"italic"},bold:{"font-weight":"bold"},uppercase:{"text-transform":"uppercase"},underline:{"text-decoration":"underline"},nounderline:{"text-decoration":"none"}},n=e.split(/(?:\s|\/)+/),a={};n.length&&n[0]in i;)Object.merge(a,i[n.shift()]);var s=/\d+(\.\d*)?(px|em|%|pt|en)/;n.length&&n[0].match(s)&&Object.merge(a,{"font-size":n.shift()}),n.length&&n[0].match(s)&&Object.merge(a,{"line-height":n.shift()}),n.getLast()&&0==n.getLast().indexOf("#")&&Object.merge(a,{color:n.pop()});var r=n.join(" ").trim();return""!=r&&Object.merge(a,{fontFamily:r}),$("<span>").css(a).text(t)}}),define("galileo/builder/util",["require","./text"],function(e){function t(e,t){return $("<span>").append($("<span>").css("display","inline-block").width(10).height(10).css("backgroundColor",e),i(10),s("uppercase 12px #666",t))}function i(e){return $("<span>").css("display","inline-block").width(e)}function n(e){return $("<p>").html("&nbsp").height(e)}function a(e,t,n){return i(e).css("height",t).css("background-color",n)}var s=e("./text");return{hspace:i,vspace:n,vline:a,legend:t}}),define("galileo/prototype/number",["require","mootools"],function(e){e("mootools"),Number.withDigits=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},Number.implement({mod:function(e){return(this%e+e)%e}})}),define("galileo/prototype/all",["require","./function","./array","./number"],function(e){e("./function"),e("./array"),e("./number")}),define("galileo/widget/tabs",["require","galileo/prototype/all"],function(e){return e("galileo/prototype/all"),function(e,t,i,n){function a(t){l!==t&&(l=t,e.each(function(e){e[0]==t&&e[1]()}),Object.each(r,function(e,n){e.css(n==t?i:o)}))}var s=$("<ul>").css("listStyle","none"),r={},l=null,o=null;return e.each(function(e){var n=e[0];r[n]=$("<li>").css("display","inline-block").text(n).click(function(){a(n)}).css(t).appendTo(s),o||(o={},Object.keys(i).each(function(e){o[e]=r[n].css(e)}))}),a(n||e[0][0]),s}}),define("shared/scripts/modal",["require","jquery"],function(e){var t,i,n=e("jquery");return function(e){function a(){var e=t.width(),n=t.height(),a=h.outerWidth(!1),r=h.outerHeight(!1),l={},o=0,c=0;"fixed"!=h.css("position").toLowerCase()&&(o=i.scrollLeft(),c=i.scrollTop()),l.left=e>=a?s(e,a)+o:o,l.top=n>=r?s(n,r)+c:c,h.css(l)}function s(e,t){return(e-t)/2}function r(){o.animate({opacity:0},{duration:250,complete:function(){o.detach()}}),t.off("resize",a),i.off("keydown",l),c()}function l(e){27==e.keyCode&&r()}t=t||n(window),i=i||n(document);var o=n("<div>").addClass("backdrop").css({position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:1e3});n("<div>").addClass("overlay").css({position:"absolute",left:0,top:0,right:0,bottom:0,opacity:.5,backgroundColor:"#000"}).appendTo(o).on("click",function(e){this==e.target&&r()}),o.appendTo(n("body").css({position:"relative"})).fadeIn(250);var c=function(){},h=e(r);return h.appendTo(o),h.find(".close").on("click",r),i.on("keydown",l),a(),t.on("resize",a),{dialog:h,close:r,onClose:function(e){c=e},position:a,overlay:o}}}),define("galileo/modal/flex101",["require","jquery","galileo/builder/util","galileo/builder/text","i18n/i18n","galileo/widget/tabs","i18n-load!com/fitbit/app/ngd/flex101","i18n-load!com/fitbit/mktg/crosssell","shared/scripts/modal"],function(e){function t(e,t){var i=o("<div>").append(h("bold 16px/22px #333",e),o("<br>"),h("14px/17px #333","").html(t));return i.find("a").css({color:"#ff4588"}),i}function i(e,t){return"<a href='"+t+"'>"+e+"</a>"}function n(){return o("<div>").append(h("bold 16px/22px #333",u("goals")),o("<br>"),h("14px/17px #333",u("on_the_dashboard")),o("<br>"),o("<br>"),o("<div>").css({width:200,display:"inline-block"}).append(h("14px/17px #333","• "+u("steps")),o("<br>"),h("14px/17px #333","• "+u("calories_burned"))),o("<div>").css({width:200,display:"inline-block"}).append(h("14px/17px #333","• "+u("distance")),o("<br>"),h("14px/17px #333","• "+u("very_active_minutes"))))}function a(e){return o("<img>").attr("src",p[e])}function s(e,t){return o("<div>").append(l(e[0],t[0]),r(),l(e[1],t[1]),r(),l(e[2],t[2]))}function r(){return o("<div>").html("&nbsp").css({height:1,backgroundColor:"#ccc"})}function l(e,t){return o("<div>").append(c.vspace(23),c.hspace(15),e,c.hspace(27),o("<div>").css({width:407,display:"inline-block"}).append(t),c.vspace(23))}var o=e("jquery"),c=e("galileo/builder/util"),h=e("galileo/builder/text"),u=e("i18n/i18n")(),d=e("galileo/widget/tabs");u.namespace(e("i18n-load!com/fitbit/app/ngd/flex101")),u.namespace(e("i18n-load!com/fitbit/mktg/crosssell"));var p,f=[t(u("charging"),u("your_tracker_battery_lasts")),t(u("syncing"),u("when_your_flex_is_within").substitute([i(u("supported_devices"),"/devices"),i(u("syncing"),u("syncing_href"))])),t(u("wearing"),u("your_flex_tracker_should_be_placed")),n(),t(u("goal_progress"),u("each_light_on_your_flex")),t(u("changing_goals"),u("to_choose_which_goal_is_shown").substitute([i(u("device_settings"),"/settings/device")])),t(u("tracking_sleep"),u("sleep_tracking_can_be_turned_on")),t(u("forgot_to_turn_on"),u("you_can_add_a_sleep_log").substitute([i(u("learn_more"),u("forgot_to_turn_on_href"))])),t(u("silent_alarms"),u("set_a_silent_alarm").substitute([i(u("devices_area"),"/settings/alarms")]))];return function(){return o.ajax({dataType:"json",url:"/lab/galileo/flex101"}).then(function(t){return p=t,e("shared/scripts/modal")(function(e){var t=o("<div>");return o("<div>").css({padding:31,backgroundColor:"white",width:500,position:"fixed"}).append(d([[u("nav_basics"),function(){t.empty().append(s([a("11"),a("12"),a("13")],f.slice(0,3)))}],[u("nav_goals"),function(){t.empty().append(s([a("21"),a("22"),a("23")],f.slice(3,6)))}],[u("nav_sleep"),function(){t.empty().append(s([a("31"),a("32"),a("33")],f.slice(6,9)))}]],{fontSize:"12px",fontWeight:"bold",color:"#999",cursor:"pointer",lineHeight:"23px",textTransform:"uppercase",padding:"0px 12px",borderBottom:"2px solid #999"},{color:"#333",borderBottom:"2px solid #55c2c2",cursor:"default"},u("nav_basics")).css("float","right"),h("bold 25px #55c2c2",u("title")),"zh_TW"===o("body").attr("class").match(/locale-([a-z]{2}_[A-Z]{2})/)[1]?o("<div>").text(u("status_not_available")).css({position:"absolute",padding:"3px 5px 3px",backgroundColor:"#ef3d6f",borderRadius:"3px",color:"#fff",letterSpacing:"1px",fontFamily:'"Proxima Nova Bold",Arial,Helvetica,sans-serif',fontWeight:700,top:60}):o("<br>"),c.vspace(61),t,c.vspace(20),h("bold 18px/30px #fff","x").css({position:"absolute",right:-30,top:0,width:30,backgroundColor:"black",textAlign:"center",cursor:"pointer"}).click(e))})})}}),function(){var e={};!function(e,t){e.VERSION="1.0.0-rc.3",e.COMPILER_REVISION=2,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.0-rc.3"},e.helpers={},e.partials={},e.registerHelper=function(e,t,i){i&&(t.not=i),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Could not find property '"+e+"'")});var i=Object.prototype.toString,n="[object Function]";e.registerHelper("blockHelperMissing",function(t,a){var s=a.inverse||function(){},r=a.fn,l=i.call(t);return l===n&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?s(this):"[object Array]"===l?t.length>0?e.helpers.each(t,a):s(this):r(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var i=new e.K;return e.K.prototype=null,i},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,i){if(e.logger.level<=t){var n=e.logger.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,i)}}},e.log=function(t,i){e.logger.log(t,i)},e.registerHelper("each",function(t,i){var n,a=i.fn,s=i.inverse,r=0,l="";if(i.data&&(n=e.createFrame(i.data)),t&&"object"==typeof t)if(t instanceof Array)for(var o=t.length;o>r;r++)n&&(n.index=r),l+=a(t[r],{data:n});else for(var c in t)t.hasOwnProperty(c)&&(n&&(n.key=c),l+=a(t[c],{data:n}),r++);return 0===r&&(l=s(this)),l}),e.registerHelper("if",function(t,a){var s=i.call(t);return s===n&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?a.inverse(this):a.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn})}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;e.log(n,t)})}(e);var t=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(e,t,i,n,a,s,r){var l=s.length-1;switch(a){case 1:return s[l-1];case 2:this.$=new n.ProgramNode([],s[l]);break;case 3:this.$=new n.ProgramNode(s[l-2],s[l]);break;case 4:this.$=new n.ProgramNode(s[l-1],[]);break;case 5:this.$=new n.ProgramNode(s[l]);break;case 6:this.$=new n.ProgramNode([],[]);break;case 7:this.$=new n.ProgramNode([]);break;case 8:this.$=[s[l]];break;case 9:s[l-1].push(s[l]),this.$=s[l-1];break;case 10:this.$=new n.BlockNode(s[l-2],s[l-1].inverse,s[l-1],s[l]);break;case 11:this.$=new n.BlockNode(s[l-2],s[l-1],s[l-1].inverse,s[l]);break;case 12:this.$=s[l];break;case 13:this.$=s[l];break;case 14:this.$=new n.ContentNode(s[l]);break;case 15:this.$=new n.CommentNode(s[l]);break;case 16:this.$=new n.MustacheNode(s[l-1][0],s[l-1][1]);break;case 17:this.$=new n.MustacheNode(s[l-1][0],s[l-1][1]);break;case 18:this.$=s[l-1];break;case 19:this.$=new n.MustacheNode(s[l-1][0],s[l-1][1]);break;case 20:this.$=new n.MustacheNode(s[l-1][0],s[l-1][1],!0);break;case 21:this.$=new n.PartialNode(s[l-1]);break;case 22:this.$=new n.PartialNode(s[l-2],s[l-1]);break;case 23:break;case 24:this.$=[[s[l-2]].concat(s[l-1]),s[l]];break;case 25:this.$=[[s[l-1]].concat(s[l]),null];break;case 26:this.$=[[s[l-1]],s[l]];break;case 27:this.$=[[s[l]],null];break;case 28:this.$=[[new n.DataNode(s[l])],null];break;case 29:s[l-1].push(s[l]),this.$=s[l-1];break;case 30:this.$=[s[l]];break;case 31:this.$=s[l];break;case 32:this.$=new n.StringNode(s[l]);break;case 33:this.$=new n.IntegerNode(s[l]);break;case 34:this.$=new n.BooleanNode(s[l]);break;case 35:this.$=new n.DataNode(s[l]);break;case 36:this.$=new n.HashNode(s[l]);break;case 37:s[l-1].push(s[l]),this.$=s[l-1];break;case 38:this.$=[s[l]];break;case 39:this.$=[s[l-2],s[l]];break;case 40:this.$=[s[l-2],new n.StringNode(s[l])];break;case 41:this.$=[s[l-2],new n.IntegerNode(s[l])];break;case 42:this.$=[s[l-2],new n.BooleanNode(s[l])];break;case 43:this.$=[s[l-2],new n.DataNode(s[l])];break;case 44:this.$=new n.PartialNameNode(s[l]);break;case 45:this.$=new n.IdNode(s[l]);break;case 46:s[l-2].push(s[l]),this.$=s[l-2];break;case 47:this.$=[s[l]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],a=[null],s=[],r=this.table,l="",o=0,c=0,h=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,y,b,w,_,x={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===p||"undefined"==typeof p)&&(p=t()),m=r[g]&&r[g][p]),"undefined"==typeof m||!m.length||!m[0]){var T="";if(!h){_=[];for(y in r[g])this.terminals_[y]&&y>2&&_.push("'"+this.terminals_[y]+"'");T=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(T,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:n.push(p),a.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(m[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,l=this.lexer.yytext,o=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(b=this.productions_[m[1]][1],x.$=a[a.length-b],x._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),v=this.performAction.call(x,l,c,o,this.yy,m[1],a,s),"undefined"!=typeof v)return v;b&&(n=n.slice(0,-1*b*2),a=a.slice(0,-1*b),s=s.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),a.push(x.$),s.push(x._$),w=r[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,
this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n,a;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length&&(i=this._input.match(this.rules[s[r]]),!i||t&&!(i[0].length>t[0].length)||(t=i,n=r,this.options.flex));r++);return t?(a=t[0].match(/(?:\r\n?|\n).*/g),a&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,n){switch(i){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 3:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 4:return this.begin("par"),24;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 23;case 11:this.popState(),this.begin("com");break;case 12:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 13:return 22;case 14:return 36;case 15:return 35;case 16:return 35;case 17:return 39;case 18:break;case 19:return this.popState(),18;case 20:return this.popState(),18;case 21:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),30;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),30;case 23:return t.yytext=t.yytext.substr(1),28;case 24:return 32;case 25:return 32;case 26:return 31;case 27:return 35;case 28:return t.yytext=t.yytext.substr(1,t.yyleng-2),35;case 29:return"INVALID";case 30:break;case 31:return this.popState(),37;case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$-/]+)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},par:{rules:[30,31],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return t.lexer=i,e.prototype=t,t.Parser=e,new e}();e.Parser=t,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},function(){e.AST={},e.AST.ProgramNode=function(t,i){this.type="program",this.statements=t,i&&(this.inverse=new e.AST.ProgramNode(i))},e.AST.MustacheNode=function(e,t,i){this.type="mustache",this.escaped=!i,this.hash=t;var n=this.id=e[0],a=this.params=e.slice(1),s=this.eligibleHelper=n.isSimple;this.isHelper=s&&(a.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,i,n,a){var s=function(t,i){if(t.original!==i.original)throw new e.Exception(t.original+" doesn't match "+i.original)};s(t.id,a),this.type="block",this.mustache=t,this.program=i,this.inverse=n,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID",this.original=t.join(".");for(var i=[],n=0,a=0,s=t.length;s>a;a++){var r=t[a];if(".."===r||"."===r||"this"===r){if(i.length>0)throw new e.Exception("Invalid path: "+this.original);".."===r?n++:this.isScoped=!0}else i.push(r)}this.parts=i,this.string=i.join("."),this.depth=n,this.isSimple=1===t.length&&!this.isScoped&&0===n,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.string=e,this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e}}();var i=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(e){for(var t=Error.prototype.constructor.apply(this,arguments),n=0;n<i.length;n++)this[i[n]]=t[i[n]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()},function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,n=/[&<>"'`]/,a=function(e){return t[e]||"&amp;"};e.Utils={escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":n.test(t)?t.replace(i,a):t},isEmpty:function(e){return e||0===e?"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1:!0}}}(),e.Compiler=function(){},e.JavaScriptCompiler=function(){},function(t,i){t.prototype={compiler:t,disassemble:function(){for(var e,t,i,n=this.opcodes,a=[],s=0,r=n.length;r>s;s++)if(e=n[s],"DECLARE"===e.opcode)a.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var l=0;l<e.args.length;l++)i=e.args[l],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),t.push(i);a.push(e.opcode+" "+t.join(" "))}return a.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;t>i;i++){var n=this.opcodes[i],a=e.opcodes[i];if(n.opcode!==a.opcode||n.args.length!==a.args.length)return!1;for(var s=0;s<n.args.length;s++)if(n.args[s]!==a.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(i=0;t>i;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,i=e.statements;this.opcodes=[];for(var n=0,a=i.length;a>n;n++)t=i[n],this[t.type](t);return this.isSimple=1===a,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,i=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var a=0,s=i.depths.list.length;s>a;a++)t=i.depths.list[a],2>t||this.addDepth(t-1);return n},block:function(e){var t=e.mustache,i=e.program,n=e.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var a=this.classifyMustache(t);"helper"===a?this.helperMustache(t,i,n):"simple"===a?(this.simpleMustache(t),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,i,n=e.pairs;this.opcode("pushHash");for(var a=0,s=n.length;s>a;a++)t=n[a],i=t[1],this.options.stringParams?this.opcode("pushStringParam",i.stringModeValue,i.type):this.accept(i),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,i=this.classifyMustache(e);"simple"===i?this.simpleMustache(e):"helper"===i?this.helperMustache(e):this.ambiguousMustache(e),this.opcode(e.escaped&&!t.noEscape?"appendEscaped":"append")},ambiguousMustache:function(e,t,i){var n=e.id,a=n.parts[0],s=null!=t||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",a,s)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),a=e.id.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",n.length,a);else{if(this.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+a);this.opcode("invokeHelper",n.length,a)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var i=1,n=e.parts.length;n>i;i++)this.opcode("lookup",e.parts[i])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,i=e.eligibleHelper,n=this.options;if(i&&!t){var a=e.id.parts[0];n.knownHelpers[a]?t=!0:n.knownHelpersOnly&&(i=!1)}return t?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t,i=e.length;i--;)t=e[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,i){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.hash(e.hash):this.opcode("emptyHash"),n}};var n=function(e){this.value=e};i.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,i,n,a){this.environment=t,this.options=i||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,i);var s,r=t.opcodes;for(this.i=0,l=r.length;this.i<l;this.i++)s=r[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(a)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,i="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(i=i+" partials = partials || "+t+".partials;"),this.options.data&&(i+=" data = data || {};"),e.push(i)}e.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var i=this.stackVars.concat(this.registers.list);if(i.length>0&&(this.source[1]=this.source[1]+", "+i.join(", ")),!this.isChild)for(var n in this.context.aliases)this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var a=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,r=this.environment.depths.list.length;r>s;s++)a.push("depth"+this.environment.depths.list[s]);var l=this.mergeSource();if(!this.isChild){var o=e.COMPILER_REVISION,c=e.REVISION_CHANGES[o];l="this.compilerInfo = ["+o+",'"+c+"'];\n"+l}if(t)return a.push(l),Function.apply(this,a);var h="function "+(this.name||"")+"("+a.join(",")+") {\n  "+l+"}";return e.log(e.logger.DEBUG,h+"\n\n"),h},mergeSource:function(){for(var e,t="",i=0,n=this.source.length;n>i;i++){var a=this.source[i];a.appendToBuffer?e=e?e+"\n    + "+a.content:a.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=a+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.push(this.nameLookup("data",e,"data"))},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&this.register("hashTypes","{}")},pushHash:function(){this.hash={values:[],types:[]}},popHash:function(){var e=this.hash;this.hash=void 0,this.options.stringParams&&this.register("hashTypes","{"+e.types.join(",")+"}"),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(e,t,!0);this.push(i.name),this.replaceStack(function(e){return e+" ? "+e+".call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var i=this.setupHelper(0,e,t),n=this.lastHelper=this.nameLookup("helpers",e,"helper"),a=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();this.source.push("if ("+s+" = "+n+") { "+s+" = "+s+".call("+i.callParams+"); }"),this.source.push("else { "+s+" = "+a+"; "+s+" = typeof "+s+" === functionType ? "+s+".apply(depth0) : "+s+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,i=this.popStack();this.options.stringParams&&(t=this.popStack(),this.popStack());var n=this.hash;t&&n.types.push("'"+e+"': "+t),n.values.push("'"+e+"': ("+i+")")},compiler:i,compileChildren:function(e,t){for(var i,n,a=e.children,s=0,r=a.length;r>s;s++){i=a[s],n=new this.compiler;var l=this.matchExistingProgram(i);null==l?(this.context.programs.push(""),l=this.context.programs.length,i.index=l,i.name="program"+l,this.context.programs[l]=n.compile(i,t,this.context),this.context.environments[l]=i):(i.index=l,i.name="program"+l)}},matchExistingProgram:function(e){for(var t=0,i=this.context.environments.length;i>t;t++){var n=this.context.environments[t];if(n&&n.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,i=this.environment.children[e],n=i.depths.list,a=[i.index,i.name,"data"],s=0,r=n.length;r>s;s++)t=n[s],a.push(1===t?"depth0":"depth"+(t-1));return 0===n.length?"self.program("+a.join(", ")+")":(a.shift(),"self.programWithDepth("+a.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,i="",a=this.isInline();if(a){var s=this.popStack(!0);if(s instanceof n)t=s.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();i="("+this.push(r)+" = "+s+"),",t=this.topStack()}}else t=this.topStack();var l=e.call(this,t);return a?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+i+l+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+i+l+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var a=e[t];a instanceof n?this.compileStack.push(a):this.pushStack(a)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();return!e&&i instanceof n?i.value:(t||this.stackSlot--,i)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,i=t[t.length-1];return!e&&i instanceof n?i.value:i},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t,i){var n=[];this.setupParams(e,n,i);var a=this.nameLookup("helpers",t,"helper");return{params:n,name:a,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(t)].concat(n).join(", ")}},setupParams:function(e,t,i){var n,a,s,r=[],l=[],o=[];r.push("hash:"+this.popStack()),a=this.popStack(),s=this.popStack(),(s||a)&&(s||(this.context.aliases.self="this",s="self.noop"),a||(this.context.aliases.self="this",a="self.noop"),r.push("inverse:"+a),r.push("fn:"+s));for(var c=0;e>c;c++)n=this.popStack(),t.push(n),this.options.stringParams&&(o.push(this.popStack()),l.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+l.join(",")+"]"),r.push("types:["+o.join(",")+"]"),r.push("hashTypes:hashTypes")),this.options.data&&r.push("data:data"),r="{"+r.join(",")+"}",i?(this.register("options",r),t.push("options")):t.push(r),t.join(", ")}};for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),s=i.RESERVED_WORDS={},r=0,l=a.length;l>r;r++)s[a[r]]=!0;i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(n,a){if(!n||"string"!=typeof n&&n.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+n);a=a||{},"data"in a||(a.data=!0);var s=e.parse(n),r=(new t).compile(s,a);return(new i).compile(r,a)},e.compile=function(n,a){function s(){var s=e.parse(n),r=(new t).compile(s,a),l=(new i).compile(r,a,void 0,!0);return e.template(l)}if(!n||"string"!=typeof n&&n.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);a=a||{},"data"in a||(a.data=!0);var r;return function(e,t){return r||(r=s()),r.call(this,e,t)}},e.VM={template:function(t){var i={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,i,n){var a=this.programs[t];return n?e.VM.program(i,n):a?a:a=this.programs[t]=e.VM.program(i)},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(n,a){a=a||{};var s=t.call(i,e,n,a.helpers,a.partials,a.data),r=i.compilerInfo||[],l=r[0]||1,o=e.COMPILER_REVISION;if(l!==o){if(o>l){var c=e.REVISION_CHANGES[o],h=e.REVISION_CHANGES[l];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+h+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+r[1]+")."}return s}},programWithDepth:function(e,t,i){var n=Array.prototype.slice.call(arguments,2);return function(i,a){return a=a||{},e.apply(this,[i,a.data||t].concat(n))}},program:function(e,t){return function(i,n){return n=n||{},e(i,n.data||t)}},noop:function(){return""},invokePartial:function(t,i,n,a,s,r){var l={helpers:a,partials:s,data:r};if(void 0===t)throw new e.Exception("The partial "+i+" could not be found");if(t instanceof Function)return t(n,l);if(e.compile)return s[i]=e.compile(t,{data:void 0!==r}),s[i](n,l);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(e.Compiler,e.JavaScriptCompiler),define("handlebars",[],function(){return e})}(),/**
	 * @license Handlebars hbs 0.4.0 - Alex Sexton, but Handlebars has it's own licensing junk
	 *
	 * Available via the MIT or new BSD license.
	 * see: http://github.com/jrburke/require-cs for details on the plugin this was based off of
	 */
define("hbs",["module"],function(e){return{version:"0.5.0",load:function(e,t,i,n){}}}),define("galileo/tile/template/helpers/i18n-namespace",["require","handlebars","underscore","i18n/i18n"],function(e){function t(t,i){var s=n.toArray(arguments);i=n.last(s);var r=n.initial(s);if(this._i18n){var l=n.pluck(this._i18n.getNamespaces(),"namespace");r=n.uniq(r.concat(l))}var o=n.map(r,function(t){return e("i18n-load!"+t.replace(/\./g,"/"))}),c=n.clone(this);return c._i18n=new a(o),i.fn(c)}var i=e("handlebars"),n=e("underscore"),a=e("i18n/i18n");return i.registerHelper("i18n-namespace",t),t}),define("galileo/tile/template/helpers/i18n",["require","handlebars","underscore"],function(e){function t(e){var t=n.initial(arguments),i=this._i18n;if(!i)throw new Error("you must supply namespaces to the context using i18n-namespace in the current context");return i.apply(i,t)}var i=e("handlebars"),n=e("underscore");return i.registerHelper("i18n",t),t}),define("hbs!galileo/modal/template/force101/content-wearing-force",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/force101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_wearing_force_heading",s):c.call(e,"i18n","screen_wearing_force_heading",s),(a||0===a)&&(r+=a),r+="</h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_wearing_force_text",s):c.call(e,"i18n","screen_wearing_force_text",s),(a||0===a)&&(r+=a),r+="</p>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.force101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.force101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_force101_content-wearing-force",t),t}),define("hbs!galileo/modal/template/force101/content-display-options",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/force101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_heading",s):c.call(e,"i18n","screen_display_options_heading",s),(a||0===a)&&(r+=a),r+="</h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_text",s):c.call(e,"i18n","screen_display_options_text",s),(a||0===a)&&(r+=a),r+="</p>\n<ul>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_bullet_1",s):c.call(e,"i18n","screen_display_options_bullet_1",s),(a||0===a)&&(r+=a),r+="</li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_bullet_2",s):c.call(e,"i18n","screen_display_options_bullet_2",s),(a||0===a)&&(r+=a),r+="</li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_bullet_3",s):c.call(e,"i18n","screen_display_options_bullet_3",s),(a||0===a)&&(r+=a),r+='</li>\n</ul>\n\n<ul class="display-options-list">\n    <li><span>',s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_steps",s):c.call(e,"i18n","screen_display_options_steps",s),(a||0===a)&&(r+=a),r+="</span></li>\n    <li><span>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_active_minutes",s):c.call(e,"i18n","screen_display_options_active_minutes",s),(a||0===a)&&(r+=a),r+="</span></li>\n    <li><span>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_calories",s):c.call(e,"i18n","screen_display_options_calories",s),(a||0===a)&&(r+=a),r+="</span></li>\n    <li><span>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_distance",s):c.call(e,"i18n","screen_display_options_distance",s),(a||0===a)&&(r+=a),r+="</span></li>\n</ul>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.force101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.force101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_force101_content-display-options",t),t}),define("hbs!galileo/modal/template/force101/content-goals",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/force101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_heading",s):c.call(e,"i18n","screen_goals_heading",s),(a||0===a)&&(r+=a),r+="</h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_text",s):c.call(e,"i18n","screen_goals_text",s),(a||0===a)&&(r+=a),r+="</p>\n\n<h4>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_subheading",s):c.call(e,"i18n","screen_goals_subheading",s),(a||0===a)&&(r+=a),r+="</h4>\n<ul>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_bullet_1",s):c.call(e,"i18n","screen_goals_bullet_1",s),(a||0===a)&&(r+=a),r+="</li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_bullet_2",s):c.call(e,"i18n","screen_goals_bullet_2",s),(a||0===a)&&(r+=a),r+="</li>\n</ul>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.force101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.force101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_force101_content-goals",t),t}),define("hbs!galileo/modal/template/force101/content-tracking-sleep",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/force101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_tracking_sleep_heading",s):c.call(e,"i18n","screen_tracking_sleep_heading",s),(a||0===a)&&(r+=a),r+="</h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_tracking_sleep_text",s):c.call(e,"i18n","screen_tracking_sleep_text",s),(a||0===a)&&(r+=a),r+="</p>\n\n<ul>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_tracking_sleep_bullet_1",s):c.call(e,"i18n","screen_tracking_sleep_bullet_1",s),(a||0===a)&&(r+=a),r+="</li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_tracking_sleep_bullet_2",s):c.call(e,"i18n","screen_tracking_sleep_bullet_2",s),(a||0===a)&&(r+=a),r+="</li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_tracking_sleep_bullet_3",s):c.call(e,"i18n","screen_tracking_sleep_bullet_3",s),(a||0===a)&&(r+=a),r+="</li>\n</ul>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.force101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.force101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_force101_content-tracking-sleep",t),t}),define("hbs!galileo/modal/template/force101/content-silent-alarms",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/force101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_heading",s):c.call(e,"i18n","screen_silent_alarms_heading",s),(a||0===a)&&(r+=a),r+="</h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_text_1",s):c.call(e,"i18n","screen_silent_alarms_text_1",s),(a||0===a)&&(r+=a),r+="</p>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_text_2",s):c.call(e,"i18n","screen_silent_alarms_text_2",s),(a||0===a)&&(r+=a),r+="</p>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_text_3",s):c.call(e,"i18n","screen_silent_alarms_text_3",s),(a||0===a)&&(r+=a),r+="</p>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.force101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.force101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_force101_content-silent-alarms",t),t}),define("hbs!galileo/modal/template/force101",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/force101","galileo/tile/template/helpers/i18n","i18n-load!com/fitbit/mktg/crosssell"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,l="";return l+='\n\n<div class="force101-modal wearing-force">\n    <a class="close closeBtn">x</a>\n\n    <div class="paddingContainer">\n        <div class="header">\n            <h2>\n                ',s={hash:{}},n=i.i18n,a=n?n.call(e,"force101_heading",s):p.call(e,"i18n","force101_heading",s),(a||0===a)&&(l+=a),l+="\n            </h2>\n            ",a=i["if"].call(e,e.isNotAvailable,{hash:{},inverse:f.noop,fn:f.program(2,r,t)}),(a||0===a)&&(l+=a),l+='\n            <ul class="nav">\n                <li class="basics">\n                    <a>\n                        <strong>',s={hash:{}},n=i.i18n,a=n?n.call(e,"nav_basics",s):p.call(e,"i18n","nav_basics",s),(a||0===a)&&(l+=a),l+='</strong>\n                    </a>\n                </li>\n                <li class="goals">\n                    <a>\n                        <strong>',s={hash:{}},n=i.i18n,a=n?n.call(e,"nav_goals",s):p.call(e,"i18n","nav_goals",s),(a||0===a)&&(l+=a),l+='</strong>\n                    </a>\n                </li>\n                <li class="sleep">\n                    <a>\n                        <strong>',s={hash:{}},n=i.i18n,a=n?n.call(e,"nav_sleep",s):p.call(e,"i18n","nav_sleep",s),(a||0===a)&&(l+=a),l+='</strong>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div class="body">\n\n            <ul class="screens">\n                ',a=i.each.call(e,e.screens,{hash:{},inverse:f.noop,fn:f.program(5,o,t)}),(a||0===a)&&(l+=a),l+='\n            </ul>\n\n        </div>\n    </div>\n\n    <div class="navActions">\n        <ul class="actions">\n            <li>\n                <a rel="prev">&lt; ',s={hash:{}},n=i.i18n,a=n?n.call(e,"actions_back",s):p.call(e,"i18n","actions_back",s),(a||0===a)&&(l+=a),l+='</a>\n            </li>\n            <li>\n                <a rel="next">',s={hash:{}},n=i.i18n,a=n?n.call(e,"actions_next",s):p.call(e,"i18n","actions_next",s),(a||0===a)&&(l+=a),l+=' &gt;</a>\n            </li>\n            <li>\n                <a class="close" rel="done">',s={hash:{}},n=i.i18n,a=n?n.call(e,"actions_done",s):p.call(e,"i18n","actions_done",s),(a||0===a)&&(l+=a),l+="</a>\n            </li>\n        </ul>\n    </div>\n</div>\n"}function r(e,t){var n,a,s,r="";return r+="\n            ",s={hash:{},inverse:f.noop,fn:f.program(3,l,t)},n=i["i18n-namespace"],a=n?n.call(e,"com.fitbit.mktg.crosssell",s):p.call(e,"i18n-namespace","com.fitbit.mktg.crosssell",s),(a||0===a)&&(r+=a),r+="\n            "}function l(e,t){var n,a,s,r="";return r+='\n            <div class="badge">',s={hash:{}},n=i.i18n,a=n?n.call(e,"status_not_available",s):p.call(e,"i18n","status_not_available",s),(a||0===a)&&(r+=a),r+="</div>\n            "}function o(e,t){var n,a="";return a+='\n                <li class="screen ',(n=i.name)?n=n.call(e,{hash:{}}):(n=e.name,n=typeof n===g?n.apply(e):n),a+=m(n)+'" data-screen-name="',(n=i.name)?n=n.call(e,{hash:{}}):(n=e.name,n=typeof n===g?n.apply(e):n),a+=m(n)+'">\n                    <div class="section">\n                        ',(n=i.contents)?n=n.call(e,{hash:{}}):(n=e.contents,n=typeof n===g?n.apply(e):n),(n||0===n)&&(a+=n),a+="\n                    </div>\n                </li>\n                "}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var c,h,u,d="",p=i.helperMissing,f=this,g="function",m=this.escapeExpression;return u={hash:{},inverse:f.noop,fn:f.program(1,s,a)},c=i["i18n-namespace"],h=c?c.call(t,"com.fitbit.app.ngd.force101",u):p.call(t,"i18n-namespace","com.fitbit.app.ngd.force101",u),(h||0===h)&&(d+=h),d+="\n"});return e.registerPartial("galileo_modal_template_force101",t),t}),define("galileo/modal/force101",["require","hbs!./template/force101/content-wearing-force","hbs!./template/force101/content-display-options","hbs!./template/force101/content-goals","hbs!./template/force101/content-tracking-sleep","hbs!./template/force101/content-silent-alarms","hbs!./template/force101","shared/scripts/modal"],function(e){var t,i=[{name:"wearing-force",contents:e("hbs!./template/force101/content-wearing-force")()},{name:"display-options",contents:e("hbs!./template/force101/content-display-options")()},{name:"goals",contents:e("hbs!./template/force101/content-goals")()},{name:"tracking-sleep",contents:e("hbs!./template/force101/content-tracking-sleep")()},{name:"silent-alarms",contents:e("hbs!./template/force101/content-silent-alarms")()}],n=e("hbs!./template/force101");return function(){return t||(t=e("shared/scripts/modal")(function(e){var t=$(n({screens:i,isNotAvailable:"zh_TW"===$("body").attr("class").match(/locale-([a-z]{2}_[A-Z]{2})/)[1]})),a=t.find(".screen"),s=(a.length,0);return t.on("click",".navActions a:not([rel=done])",function(){var e=$(this),i=e.attr("rel"),n=0;switch(i){case"next":n+=1;break;case"prev":n-=1}if(0!=n){var r=s+n,l=a.eq(s),o=a.eq(r);s=r,t.removeClass(l.data("screen-name")),t.addClass(o.data("screen-name"))}}),t}),t.onClose(function(){t=void 0})),t}}),define("hbs!galileo/modal/template/charge101/content-wearing-charge",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/charge101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_wearing_charge_heading",s):c.call(e,"i18n","screen_wearing_charge_heading",s),(a||0===a)&&(r+=a),r+=" </h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_wearing_charge_text",s):c.call(e,"i18n","screen_wearing_charge_text",s),(a||0===a)&&(r+=a),r+=" </p>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.charge101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.charge101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_charge101_content-wearing-charge",t),t}),define("hbs!galileo/modal/template/charge101/content-display-options",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/charge101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_heading",s):c.call(e,"i18n","screen_display_options_heading",s),(a||0===a)&&(r+=a),r+=" </h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_text",s):c.call(e,"i18n","screen_display_options_text",s),(a||0===a)&&(r+=a),r+=" </p>\n<ul>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_bullet_1",s):c.call(e,"i18n","screen_display_options_bullet_1",s),(a||0===a)&&(r+=a),r+=" </li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_bullet_2",s):c.call(e,"i18n","screen_display_options_bullet_2",s),(a||0===a)&&(r+=a),r+=" </li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_bullet_3",s):c.call(e,"i18n","screen_display_options_bullet_3",s),(a||0===a)&&(r+=a),r+=' </li>\n</ul>\n\n<ul class="display-options-list">\n    <li>',s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_steps",s):c.call(e,"i18n","screen_display_options_steps",s),(a||0===a)&&(r+=a),r+=" </li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_floors",s):c.call(e,"i18n","screen_display_options_floors",s),(a||0===a)&&(r+=a),r+=" </li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_calories",s):c.call(e,"i18n","screen_display_options_calories",s),(a||0===a)&&(r+=a),r+=" </li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_display_options_distance",s):c.call(e,"i18n","screen_display_options_distance",s),(a||0===a)&&(r+=a),r+=" </li>\n</ul>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.charge101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.charge101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_charge101_content-display-options",t),t}),define("hbs!galileo/modal/template/charge101/content-goals",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/charge101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_heading",s):c.call(e,"i18n","screen_goals_heading",s),(a||0===a)&&(r+=a),r+="</h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_text",s):c.call(e,"i18n","screen_goals_text",s),(a||0===a)&&(r+=a),r+="</p>\n\n<h4>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_subheading",s):c.call(e,"i18n","screen_goals_subheading",s),(a||0===a)&&(r+=a),r+="</h4>\n<ul>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_bullet_1",s):c.call(e,"i18n","screen_goals_bullet_1",s),(a||0===a)&&(r+=a),r+="</li>\n    <li>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_goals_bullet_2",s):c.call(e,"i18n","screen_goals_bullet_2",s),(a||0===a)&&(r+=a),r+="</li>\n</ul>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.charge101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.charge101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_charge101_content-goals",t),t}),define("hbs!galileo/modal/template/charge101/content-call-notifications",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/charge101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_call_notifications_heading",s):c.call(e,"i18n","screen_call_notifications_heading",s),(a||0===a)&&(r+=a),r+=" </h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_call_notifications_text_1",s):c.call(e,"i18n","screen_call_notifications_text_1",s),(a||0===a)&&(r+=a),r+=" </p>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_call_notifications_text_2",s):c.call(e,"i18n","screen_call_notifications_text_2",s),(a||0===a)&&(r+=a),r+=" </p>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.charge101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.charge101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_charge101_content-call-notifications",t),t}),define("hbs!galileo/modal/template/charge101/content-silent-alarms",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/charge101","galileo/tile/template/helpers/i18n"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,r="";return r+="\n<h3>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_heading",s):c.call(e,"i18n","screen_silent_alarms_heading",s),(a||0===a)&&(r+=a),r+="</h3>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_text_1",s):c.call(e,"i18n","screen_silent_alarms_text_1",s),(a||0===a)&&(r+=a),r+="</p>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_text_2",s):c.call(e,"i18n","screen_silent_alarms_text_2",s),(a||0===a)&&(r+=a),r+="</p>\n<p>",s={hash:{}},n=i.i18n,a=n?n.call(e,"screen_silent_alarms_text_3",s):c.call(e,"i18n","screen_silent_alarms_text_3",s),(a||0===a)&&(r+=a),r+="</p>\n"}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var r,l,o,c=i.helperMissing,h=this;return o={hash:{},inverse:h.noop,fn:h.program(1,s,a)},r=i["i18n-namespace"],l=r?r.call(t,"com.fitbit.app.ngd.charge101",o):c.call(t,"i18n-namespace","com.fitbit.app.ngd.charge101",o),l||0===l?l:""});return e.registerPartial("galileo_modal_template_charge101_content-silent-alarms",t),t}),define("hbs!galileo/modal/template/charge101",["handlebars","galileo/tile/template/helpers/i18n-namespace","i18n-load!com/fitbit/app/ngd/charge101","galileo/tile/template/helpers/i18n","i18n-load!com/fitbit/mktg/crosssell"],function(e){var t=e.template(function(e,t,i,n,a){function s(e,t){var n,a,s,l="";return l+='\n\n<div class="charge101-modal wearing-charge">\n    <a class="close closeBtn">x</a>\n\n    <div class="paddingContainer">\n        <div class="header">\n            <h2>\n                ',s={hash:{}},n=i.i18n,a=n?n.call(e,"charge101_heading",s):p.call(e,"i18n","charge101_heading",s),(a||0===a)&&(l+=a),l+="\n            </h2>\n            ",a=i["if"].call(e,e.isNotAvailable,{hash:{},inverse:f.noop,fn:f.program(2,r,t)}),(a||0===a)&&(l+=a),l+='\n            <ul class="nav">\n                <li class="basics">\n                    <a>\n                        <strong>',s={hash:{}},n=i.i18n,a=n?n.call(e,"nav_basics",s):p.call(e,"i18n","nav_basics",s),(a||0===a)&&(l+=a),l+='</strong>\n                    </a>\n                </li>\n                <li class="goals">\n                    <a>\n                        <strong>',s={hash:{}},n=i.i18n,a=n?n.call(e,"nav_goals",s):p.call(e,"i18n","nav_goals",s),(a||0===a)&&(l+=a),l+='</strong>\n                    </a>\n                </li>\n                <li class="calls">\n                    <a>\n                        <strong>',s={hash:{}},n=i.i18n,a=n?n.call(e,"nav_calls",s):p.call(e,"i18n","nav_calls",s),(a||0===a)&&(l+=a),l+='</strong>\n                    </a>\n                </li>\n                <li class="sleep">\n                    <a>\n                        <strong>',s={hash:{}},n=i.i18n,a=n?n.call(e,"nav_sleep",s):p.call(e,"i18n","nav_sleep",s),(a||0===a)&&(l+=a),l+='</strong>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div class="body">\n\n            <ul class="screens">\n                ',a=i.each.call(e,e.screens,{hash:{},inverse:f.noop,fn:f.program(5,o,t)}),(a||0===a)&&(l+=a),l+='\n            </ul>\n\n        </div>\n    </div>\n\n    <div class="navActions">\n        <ul class="actions">\n            <li>\n                <a rel="prev">&lt; ',s={hash:{}},n=i.i18n,a=n?n.call(e,"actions_back",s):p.call(e,"i18n","actions_back",s),(a||0===a)&&(l+=a),l+='</a>\n            </li>\n            <li>\n                <a rel="next">',s={hash:{}},n=i.i18n,a=n?n.call(e,"actions_next",s):p.call(e,"i18n","actions_next",s),(a||0===a)&&(l+=a),l+=' &gt;</a>\n            </li>\n            <li>\n                <a class="close" rel="done">',s={hash:{}},n=i.i18n,a=n?n.call(e,"actions_done",s):p.call(e,"i18n","actions_done",s),(a||0===a)&&(l+=a),l+="</a>\n            </li>\n        </ul>\n    </div>\n</div>\n"}function r(e,t){var n,a,s,r="";return r+="\n            ",s={hash:{},inverse:f.noop,fn:f.program(3,l,t)},n=i["i18n-namespace"],a=n?n.call(e,"com.fitbit.mktg.crosssell",s):p.call(e,"i18n-namespace","com.fitbit.mktg.crosssell",s),(a||0===a)&&(r+=a),r+="\n            "}function l(e,t){var n,a,s,r="";return r+='\n            <div class="badge">',s={hash:{}},n=i.i18n,a=n?n.call(e,"status_not_available",s):p.call(e,"i18n","status_not_available",s),(a||0===a)&&(r+=a),r+="</div>\n            "}function o(e,t){var n,a="";return a+='\n                <li class="screen ',(n=i.name)?n=n.call(e,{hash:{}}):(n=e.name,n=typeof n===g?n.apply(e):n),a+=m(n)+'" data-screen-name="',(n=i.name)?n=n.call(e,{hash:{}}):(n=e.name,n=typeof n===g?n.apply(e):n),a+=m(n)+'">\n                    <div class="section">\n                        ',(n=i.contents)?n=n.call(e,{hash:{}}):(n=e.contents,n=typeof n===g?n.apply(e):n),(n||0===n)&&(a+=n),a+="\n                    </div>\n                </li>\n                "}this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var c,h,u,d="",p=i.helperMissing,f=this,g="function",m=this.escapeExpression;return u={hash:{},inverse:f.noop,fn:f.program(1,s,a)},c=i["i18n-namespace"],h=c?c.call(t,"com.fitbit.app.ngd.charge101",u):p.call(t,"i18n-namespace","com.fitbit.app.ngd.charge101",u),(h||0===h)&&(d+=h),d+="\n"});return e.registerPartial("galileo_modal_template_charge101",t),t}),define("galileo/modal/charge101",["require","galileo/builder/util","galileo/builder/text","galileo/widget/tabs","hbs!./template/charge101/content-wearing-charge","hbs!./template/charge101/content-display-options","hbs!./template/charge101/content-goals","hbs!./template/charge101/content-call-notifications","hbs!./template/charge101/content-silent-alarms","hbs!./template/charge101","shared/scripts/modal"],function(e){var t,i=(e("galileo/builder/util"),e("galileo/builder/text"),e("galileo/widget/tabs"),[{name:"wearing-charge",contents:e("hbs!./template/charge101/content-wearing-charge")()},{name:"display-options",contents:e("hbs!./template/charge101/content-display-options")()},{name:"goals",contents:e("hbs!./template/charge101/content-goals")()},{name:"call-notifications",contents:e("hbs!./template/charge101/content-call-notifications")()},{name:"silent-alarms",contents:e("hbs!./template/charge101/content-silent-alarms")()}]),n=e("hbs!./template/charge101");return function(){return t||(t=e("shared/scripts/modal")(function(e){var t=$(n({screens:i,isNotAvailable:"zh_TW"===$("body").attr("class").match(/locale-([a-z]{2}_[A-Z]{2})/)[1]})),a=t.find(".screen"),s=(a.length,0);return t.on("click",".navActions a:not([rel=done])",function(){var e=$(this),i=e.attr("rel"),n=0;switch(i){case"next":n+=1;break;case"prev":n-=1}if(0!=n){var r=s+n,l=a.eq(s),o=a.eq(r);s=r,t.removeClass(l.data("screen-name")),t.addClass(o.data("screen-name"))}}),t}),t.onClose(function(){t=void 0})),t}}),define("galileo/modal/device101",["require"],function(e){function t(){function e(e){e.hasClass("first-item-101")?$(".navigation-button-101.prev-screen").hide():$(".navigation-button-101.prev-screen").show(),e.hasClass("last-item-101")?($(".navigation-button-101.next-screen").hide(),$(".navigation-button-101.close-screen").show()):($(".navigation-button-101.next-screen").show(),$(".navigation-button-101.close-screen").hide())}function t(t){var i=null;if(t.hasClass("prev-screen")?i=$("a.pagination-marker-101.active").parent().prev().find("a.pagination-marker-101"):t.hasClass("next-screen")&&(i=$("a.pagination-marker-101.active").parent().next().find("a.pagination-marker-101")),i&&i.length){var n=i.attr("href");$("a.pagination-marker-101.active").removeClass("active"),i.addClass("active"),$("div.active-area-101").fadeOut().removeClass("active-area-101"),$("div"+n).fadeIn().addClass("active-area-101"),e($("div"+n))}}$(".device-101-1-menu-item").after("<br/>"),$("#fitbit-mobile-device-101").append('<div class="close-button"></div>'),$(".navigation-button-101").click(function(){t($(this))}),$(".navigation-button-101.prev-screen").hide(),$("#fitbit-mobile-device-101 > div.content-area-101:not(.fitbit-mobile-device-101-content)").append("<div class='device-101-left-side'></div><div class='device-101-right-side'></div>"),$("#fitbit-mobile-device-101 > div:not(.fitbit-mobile-device-101-content)").each(function(){var e=$(this).find(".device-101-left-side");$(this).find("img:not('.ic'), p.left-area").appendTo(e);var t=$(this).find(".device-101-right-side");$(this).find("p:not(.left-area),h1").appendTo(t),$(this).find("p.device-101-split").each(function(){var e=$(this).html();e=e.replace("<br/>","</p><p>").replace("<br>","</p><p>"),$(this).html(e)})}),$("img.lazy").each(function(){var e=$(this).attr("data-src");$(this).attr("src",e)}),$("#fitbit-mobile-device-101 .close-button, .fitbit-mobile-device-101-overlay, .navigation-button-101.close-screen").click(function(){$(".fitbit-mobile-device-101-overlay").remove(),$("#fitbit-mobile-device-101").remove()}),$("#fitbit-mobile-device-101 #nav-101").show();var i=$("#fitbit-mobile-device-101 > div.content-area-101"),n=i.length;i.each(function(e){0!==e?(e==n-1&&$(this).addClass("last-item-101"),$(this).hide()):$(this).addClass("active-area-101").addClass("first-item-101");var t=$(this).hasClass("fitbit-mobile-device-101-content")?"class='content-table'":"",i=0==e?"active":"",a=$(this).attr("id"),s="<li "+t+"><a href='#"+a+"' class='pagination-marker-101 "+i+"'></a></li>";$("#nav-101 ul").append(s)}),$("a.pagination-marker-101, a.device-101-1-menu-item").click(function(t){if(t.preventDefault(),!$(this).hasClass("active")){var i=$(this).attr("href");$("a.pagination-marker-101").removeClass("active"),$("a.pagination-marker-101[href='"+i+"']").addClass("active"),$("div.active-area-101").fadeOut().removeClass("active-area-101"),$("div"+i).fadeIn().addClass("active-area-101"),e($("div"+i))}return!1}),$(".fitbit-mobile-device-101-overlay").show(),$("#fitbit-mobile-device-101").show()}return function(e){var i,n="us",a=$("body").attr("class");if((i=a.match(/locale-\S+_(\S+)/i))||(i=a.match(/locale-xx(\S+)/i))){var s=i[1].toLowerCase();"gb"===s?s="uk":-1!==["ch","ca","be","no","se","nl"].indexOf(s)&&(i=a.match(/locale-(\S+)_(\S+)/i),("en"!==i[1]||"ca"===s)&&(s=i[1]+"-"+i[2].toLowerCase())),"en"!==s&&(n=s)}var r=!1;"surge"===e?r=n+"/surge/surge-101":"chargehr"===e?r=n+"/chargehr/chargehr-101":"blaze"===e?r=n+"/blaze/blaze-101":"alta"===e?r=n+"/alta/alta-101":"flex2"===e?r=n+"/flex2/flex2-101":"charge2"===e?r=n+"/charge2/charge2-101":"ionic"===e?r=n+"/ionic/ionic-101":"aria2"===e?r=n+"/aria2/aria2-101":"altahr"===e&&(r=n+"/altahr/altahr-101"),r&&$.get("/"+r,function(e){e&&($("body").append(e),t())})}}),define("galileo/util/dialog101Loader",[],function(){var e=!1,t=!1,i=[],n=function(e){var t=$.map(e,function(e){return $.getScript(e)});return t.push($.Deferred(function(e){$(e.resolve)})),$.when.apply($,t)};return function(a){e?t?a():i.push(a):(e=!0,i.push(a),$.get("/lab/galileo/dialog101",function(e){var a=$(e),s=[];a.filter("script").each(function(){this.src&&(s.push(this.src),$(this).remove())});var r=$("body"),l=$("<div>");l.css({position:"absolute",left:-1e4}).append(a).appendTo(r);var o=$("#fb101-template");o.replaceWith(o.text()),n(s).done(function(){$.each(i,function(e,t){t()})}),t=!0}))}}),define("galileo/util/channel",["require"],function(e){return function(e){var t,i=[];return{fns:i,give:function(){t=arguments;for(var e=0;e<i.length;e++)i[e].apply(this,t)},take:function(n,a){return n=a?function(e){return function(){return e.apply(a,t)}}(n):n,i.push(n),e&&t&&n.apply(this,t),function(){for(var e=i.length-1;e>=0;e--)i[e]===n&&i.splice(e,1)}}}}}),define("galileo/ajax/ajax",["require","mootools","jquery","galileo/prototype/all","galileo/util/channel","underscore"],function(e){function t(e,t,i,n){var a=Object.keys(n).map(function(e){return[e,n[e]]});return a.sortBy(Function.takeKey(0)),JSON.encode([e,t,i,a])}function i(e,i,a,u,d,p,f){var g=t(i,u,d,p),m=a&&"undefined"!=typeof global_page_owner?"/ajaxapi/user/"+global_page_owner.encodedId:"/ajaxapi",v=p;r.isString(u)&&"post"===u.toLowerCase()&&r.isObject(p)&&!r.isArray(p)&&(v=r.extend({},p,{csrfToken:window.fitbitCsrfToken}));var y=function(){$.ajax(i?{type:"POST",url:m,data:$.param({request:JSON.stringify({template:"/ajaxTemplate.jsp",serviceCalls:[{name:d,args:p,method:u}]}),csrfToken:window.fitbitCsrfToken}),success:function(e){n(i,u,d,p,JSON.parse(e))}}:{type:u,url:d,data:v,success:n.bind(this,i,u,d,p)})};return e===!0?void $.ajax(i?{type:"POST",url:m,data:$.param({request:JSON.stringify({template:"/ajaxTemplate.jsp",serviceCalls:[{name:d,args:p,method:u}]}),csrfToken:window.fitbitCsrfToken}),success:f
}:{type:u,url:d,data:v,success:f}):void 0==f?{update:function(){delete c[g],y()}}:(h[g]||(h[g]=s(),l?o.push(function(){c[g]||y()}):y()),h[g].fns.contains(f)||h[g].take(f),c.hasOwnProperty(g)?void f(c[g]):void 0)}function n(e,i,n,a,r){var l=t(e,i,n,a);c[l]=r,h[l]=h[l]||s(),h[l].give(r)}function a(){l=!1,o.map(function(e){e()}),delete o}e("mootools"),e("jquery"),e("galileo/prototype/all");var s=e("galileo/util/channel"),r=e("underscore"),l=!0,o=[],c={},h={};return window.channelThings=h,{getRaw:i.bind(this,!1,!1,!1,"get"),get:i.bind(this,!1,!0,!1),getOwner:i.bind(this,!1,!0,!0),post:i.bind(this,!0,!0,!1),postOwner:i.bind(this,!0,!0,!0),postRaw:i.bind(this,!0,!1,!1,"post"),preload:n.bind(this,!0),preloadRaw:n.bind(this,!1),preloadFinished:a}}),define("galileo/util/foodGoalLoader",["require","./channel","galileo/ajax/ajax","galileo/util/dateUtil","underscore","jquery"],function(e){var t=e("./channel"),i=e("galileo/ajax/ajax"),n=e("galileo/util/dateUtil"),a=e("underscore"),s=!1,r=!1,l=t(),o=e("jquery");return o("body").on("fgmClose",function(){i.get("getWeightTileDataAt","activityTileData",{date:n.ajaxEncode(new Date)}).update()}),function(e){s||(s=!0,o.get("/lab/galileo/weightDialogs",function(e){function t(){window.fitbit&&window.fitbit.i18n?(o("<div>").css({position:"absolute",left:-1e4}).html(n[1]).appendTo(s),l.give(),r=!0):setTimeout(t,100)}var i,n=e.split("<!--ENDSCRIPT-->"),s=o("body"),c=o(n[0]),h=a.map(a.filter(c,function(e){return"SCRIPT"===e.nodeName}),function(e){return o(e).attr("src")});c=c.not("script"),o("<div>").css({position:"absolute",left:-1e4}).html(c).appendTo(s),(i=function(){var e=h.shift();o.getScript(e,h.length?i:t)})()}.bind(this),"text")),r?e():l.take(e)}}),define("hbs!galileo/modal/template/basicModal",["handlebars"],function(e){var t=e.template(function(e,t,i,n,a){this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers;var s,r="",l="function";return r+='<div class="basic-modal">\n    <a class="close" href="#">\n        <span class="close-icon">X</span>\n    </a>\n    <div class="content">',(s=i.content)?s=s.call(t,{hash:{}}):(s=t.content,s=typeof s===l?s.apply(t):s),(s||0===s)&&(r+=s),r+="</div>\n</div>"});return e.registerPartial("galileo_modal_template_basicModal",t),t}),define("basicModal",["underscore","hbs!galileo/modal/template/basicModal"],function(e,t){function i(e){$("body").append(e)}function n(e){document.createStyleSheet?document.createStyleSheet(e):$('<link rel="stylesheet" type="text/css" href="'+e+'" />').appendTo("head")}var a=function(a,s){n("/styles/modal/basicModal.css"),this.$el=$(t({content:a})),this.$el.hide(),this.elementId=e.uniqueId("basicModal"),this.$el.attr("id",this.elementId),this.modalWidth=s,i(this.$el)};return a.prototype.trigger=function(){var e=this,t=$("#"+e.elementId);e.modalWidth&&t.css({width:e.modalWidth}),t.overlay({top:"20%",target:"#"+e.elementId,load:!0,closeOnClick:!0,closeOnEsc:!0,close:".close",mask:{color:"#000",opacity:.6},onClose:function(){e.$el.remove(),$("#exposeMask").fadeOut().remove()}})},a}),define("hbs!galileo/modal/template/holidayShipping",["handlebars"],function(e){var t=e.template(function(e,t,i,n,a){return this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers,'<div class="holidayShipping">\n    <h1 class="shippingGuidelines">Shipping guidelines</h1>\n    <p class="heading">To order and receive products for shipping during the 2013 holiday season, please refer to the following guidelines:</p>\n    <ul>\n        <li>Add any item to your cart to view whether it’s in-stock. In-stock items ship within 24 hours (1 business day) of your order.</li>\n        <li>If an item is back-ordered, please review the cart messaging to determine whether we’ll be able to ship the item in time for your needs.</li>\n        <li>Please select the most appropriate shipping method for your delivery. Please note that orders received after noon PST are not likely to ship on the same day as ordered (they will ship the next business day).</li>\n        <li>Orders to Canadian shipping addresses will take longer to deliver – please review the cart messaging during check-out.</li>\n    </ul>\n</div>'});return e.registerPartial("galileo_modal_template_holidayShipping",t),t}),define("hbs!galileo/modal/template/holidayShippingTwoDay",["handlebars"],function(e){var t=e.template(function(e,t,i,n,a){return this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers,'<div class="holidayShipping">\n    <h1 class="shippingGuidelines">Shipping guidelines</h1>\n    <p class="heading">FREE 2-3 day shipping on all <span class="emphasis">in-stock orders over $50</span> placed between Friday December 13 at 8:00am PST and Tuesday December 17 at 11:59pm PST</p>\n    <ul>\n        <li>You must select 2-3 day shipping in order to guarantee the 2-3 day ship method.</li>\n        <li>Please review each item’s in-stock or back-order delivery messaging in the cart to ensure the item will ship in time for your needs.</li>\n        <li>Please note that in-stock orders received after noon PST are not likely to ship on the same day as ordered (they will ship the next business day).</li>\n        <li>Orders to Canadian shipping addresses will take longer to deliver – please review the cart messaging during check-out.</li>\n    </ul>\n</div>'});return e.registerPartial("galileo_modal_template_holidayShippingTwoDay",t),t}),define("hbs!galileo/modal/template/holidayShippingOneDay",["handlebars"],function(e){var t=e.template(function(e,t,i,n,a){return this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers,'<div class="holidayShipping">\n    <h1 class="shippingGuidelines">Shipping guidelines</h1>\n    <p class="heading">FREE 1-day shipping on all <span class="emphasis">in-stock orders over $50</span> placed between Tuesday December 17 at 11:59pm PST and Friday December 20 at 5:00pm PST</p>\n    <ul>\n        <li>You must select 1-day shipping in order to guarantee the 1-day ship method.</li>\n        <li>Please review each item’s in-stock or back-order delivery messaging in the cart to ensure the item will ship in time for your needs.</li>\n        <li>Please note that in-stock orders received after noon PST are not likely to ship on the same day as ordered (they will ship the next business day).</li>\n        <li>Orders to Canadian shipping addresses will take longer to deliver – please review the cart messaging during check-out.</li>\n    </ul>\n</div>'});return e.registerPartial("galileo_modal_template_holidayShippingOneDay",t),t}),define("hbs!galileo/modal/template/holidayShippingTooLate",["handlebars"],function(e){var t=e.template(function(e,t,i,n,a){return this.compilerInfo=[2,">= 1.0.0-rc.3"],i=i||e.helpers,'<div class="holidayShipping">\n    <h1 class="shippingGuidelines">Shipping guidelines</h1>\n    <p class="heading">Holiday shipping on all orders will NOT deliver before December 24</p>\n    <ul>\n        <li>All in-stock items ship within 24 hours (1 business day) of your order.</li>\n        <li>If an item is back-ordered, please review the cart messaging to determine when the item will be available to ship.</li>\n        <li>Happy Holidays and New Year!</li>\n    </ul>\n    <p class="signature">-Fitbit Team</p>\n</div>'});return e.registerPartial("galileo_modal_template_holidayShippingTooLate",t),t}),function(){function e(){return/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i.test(navigator.userAgent||navigator.vendor||window.opera)}var t=$(".wrapper-header .hdr-menu"),i=t.find("> ul > li"),n=t.find(".hdr-prod");t.click(function(e){e.target===this&&$(this).toggleClass("active")});var a;i.mouseenter(function(){if($(window).width()>1024){var e=$(this);a=setTimeout(function(){e.children("ul").addClass("hoverDelay")},300)}}).mouseleave(function(){$(window).width()>1024&&(clearTimeout(a),i.find("> ul").removeClass("hoverDelay"))}),i.hover(function(){$(this).addClass("highlight")},function(){$(this).removeClass("highlight")}),i.click(function(){(e()||$(window).width()<1025)&&($(this).toggleClass("active"),$(this).siblings().removeClass("active"))}),$(document).click(function(e){var t=$(".wrapper-header .hdr-menu > ul > li, .wrapper-header .hdr-menu");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("active")}),n.attr("data-prod-total",t.find(".hdr-prod-top li").length),n.find(".hdr-prod-top").each(function(){var e=$(this);e.attr("data-prod-count",e.find("li").length)});var s=window.define||function(e){return e()};s("fitbit-header",["require","jquery","fitbit-widget-dropdown","fitbit-header-notificationDropdown","galileo/util/dateUtil","messages-deviceNames","messages-batteryLevels","galileo/modal/flex101","galileo/modal/force101","galileo/modal/charge101","galileo/modal/device101","galileo/util/dialog101Loader","galileo/util/foodGoalLoader","basicModal","hbs!galileo/modal/template/holidayShipping","hbs!galileo/modal/template/holidayShippingTwoDay","hbs!galileo/modal/template/holidayShippingOneDay","hbs!galileo/modal/template/holidayShippingTooLate"],function(e){function t(){var e=M.find(".account > .nav-item-settings");if(e.length&&v){var t,i=".accountSettingsDropdown";e.one("mouseover"+i+" mousedown"+i,function(n){e.off(i).addClass("hasdropdown"),m.post("/ajaxapi",{request:JSON.stringify({serviceCalls:[{name:"device",method:"getOwnerDevices"}],template:"common/defaultResponse.json.jsp"}),csrfToken:window.fitbitCsrfToken},function(e){var i=e[0],n=[];i.length&&m.each(i,function(e,i){if(!i.softTracker){"FLOJO"==i.type&&c?(m("#header-settings-subnav .aria101").removeClass("invisible"),m("#header-settings-subnav .aria101 a").off("click").click(function(){c(),t.hide()})):"FERMION"==i.type&&p?(m("#header-settings-subnav .flex2101").removeClass("invisible"),m("#header-settings-subnav .flex2101 a").off("click").click(function(){p("flex2"),t.hide()})):"ELECTRON"==i.type&&p?(m("#header-settings-subnav .blaze101").removeClass("invisible"),m("#header-settings-subnav .blaze101 a").off("click").click(function(){p("blaze"),t.hide()})):"LEPTON"==i.type&&p?(m("#header-settings-subnav .alta101").removeClass("invisible"),m("#header-settings-subnav .alta101 a").off("click").click(function(){p("alta"),t.hide()})):"LARYON"==i.type&&p?(m("#header-settings-subnav .charge2101").removeClass("invisible"),m("#header-settings-subnav .charge2101 a").off("click").click(function(){p("charge2"),t.hide()})):"PROTON"==i.type&&p?(m("#header-settings-subnav .surge101").removeClass("invisible"),m("#header-settings-subnav .surge101 a").off("click").click(function(){p("surge"),t.hide()})):"GRAVITON"==i.type&&p?(m("#header-settings-subnav .chargeHR101").removeClass("invisible"),m("#header-settings-subnav .chargeHR101 a").off("click").click(function(){p("chargehr"),t.hide()})):"TAU"==i.type&&o?(m("#header-settings-subnav .charge101").removeClass("invisible"),m("#header-settings-subnav .charge101 a").off("click").click(function(){o(),t.hide()})):"HIGGS"==i.type&&p?(m("#header-settings-subnav .ionic101").removeClass("invisible"),m("#header-settings-subnav .ionic101 a").off("click").click(function(){p("ionic"),t.hide()})):"FELIX"==i.type&&p?(m("#header-settings-subnav .aria2101").removeClass("invisible"),m("#header-settings-subnav .aria2101 a").off("click").click(function(){p("aria2"),t.hide()})):"QUARK"==i.type&&r?(m("#header-settings-subnav .flex101").removeClass("invisible"),m("#header-settings-subnav .flex101 a").off("click").click(function(){r(),t.hide()})):"NEUTRINO"==i.type&&l?(m("#header-settings-subnav .force101").removeClass("invisible"),m("#header-settings-subnav .force101 a").off("click").click(function(){l(),t.hide()})):"HADRON"==i.type&&h?(m("#header-settings-subnav .one101").removeClass("invisible"),m("#header-settings-subnav .one101 a").off("click").click(function(){h(),t.hide()})):"TYCHO"==i.type&&u?(m("#header-settings-subnav .ultra101").removeClass("invisible"),m("#header-settings-subnav .ultra101 a").off("click").click(function(){u(),t.hide()})):"GALILEO"==i.type&&d?(m("#header-settings-subnav .zip101").removeClass("invisible"),m("#header-settings-subnav .zip101 a").off("click").click(function(){d(),t.hide()})):"ATOM"==i.type&&p&&(m("#header-settings-subnav .altahr101").removeClass("invisible"),m("#header-settings-subnav .altahr101 a").off("click").click(function(){p("altahr"),t.hide()})),n.push(m("<li>").addClass("device-divider").append(m("<div>").addClass("hr")));var a=m("<li>").addClass("device").addClass("device-"+i.productName.toLowerCase().replace(" ","")),s=m("<a>").addClass("gotoSettings").appendTo(a);i.settingsUrl&&s.attr("href",i.settingsUrl);var f=m("<div>").addClass("info").append(m("<span>").addClass("type").text(x(i.type,"displayName",i.productName)),m("<br>"),m("<span>").addClass("sync deviceDetail").data("time",i.lastSyncTime).text(i.lastSyncTime>0?y(i.lastSyncTime):"")).appendTo(s);f.append(m("<div>").addClass("battery").addClass(i.battery?i.battery.toLowerCase():"").attr("title",i.battery?T(i.battery.toLowerCase()):"")),n.push(a)}}),n.push(m("<li>").addClass("divider")),m.each(n.reverse(),function(){m("#header-settings-subnav").prepend(this)})},"json")}).one("click",function(i){i.preventDefault(),t=new v(e,{anchorPoint:"below right",className:A+" subnav-settings",catalystActiveClass:E,mouseBoundaryDetectionEnabled:!1});var n=m("#header-settings-subnav");t.render(n),t.subscribe("beforeShow",function(){n.find(".device .sync").each(function(e,t){var i=parseInt(m(t).attr("data-time"));i>0&&m(t).text(y(i))})}),t.subscribe("beforeShow",function(){var e=t.getRootElement();m(e).find(".link-dashboard").on("click",function(e){e.preventDefault();var t=m(this),i=t.data("setting");m.post("/userSettings/dh/save?apiFormat=json",{"settings['show galileo dashboard']":i,csrfToken:window.fitbitCsrfToken},function(){window.location="/"})})},!0),t.show()})}}function i(e){for(var t=document.cookie.split("; "),i=0;i<t.length;i++)if(nameAndValue=t[i].split("="),nameAndValue[0]==e)return unescape(nameAndValue[1]);return null}function n(){var e=0,t="/cart",n=i("cart_merchandise");if(n){items=n.split("|");for(var a=1;a<items.length-1;a++)if("p"==items[a][0])lineItem=items[a].split(":"),lineItem&&(e+=parseInt(lineItem[lineItem.length-1]));else if("c"==items[a][0]){var s=items[a].split(":");s&&s[1]&&(t+="/promo/"+s[1]),m(".cart-indicator").attr("href",function(e,i){return i.replace("/order",t)})}}e>0&&m(".cart-indicator > span").html(e)}var a="function"==typeof e,s=document.getElementById("requirejs"),r=null,l=null,o=null,c=null,h=null,u=null,d=null,p=null,f=null,g=null;if(a){var m=e("jquery"),v=e("fitbit-widget-dropdown");e("fitbit-header-notificationDropdown")}else var m=window.jQuery,v=m.isFunction(fitbit.modules.dropdown)&&fitbit.modules.dropdown;if(a&&!s){var y=e("galileo/util/dateUtil").getRelativeDate,b=e("messages-deviceNames"),w=e("messages-batteryLevels"),_="???",x=function(e,t,i){return b[e]&&b[e][t]?b[e][t]:i},T=function(e){return w[e]?w[e]:_};r=e("galileo/modal/flex101"),l=e("galileo/modal/force101"),o=e("galileo/modal/charge101"),p=e("galileo/modal/device101"),f=e("galileo/util/dialog101Loader"),g=e("galileo/util/foodGoalLoader");var k=function(e){return function(){f(function(){m[e]()})}};c=function(){g(k("aria101"))},h=k("one101"),u=function(){f(function(){m("#fb101").fitbit101()})},d=k("zip101")}else var y=fitbit.util.getRelativeDate,S="com.fitbit.app.device.message.",x=function(e,t,i){return fitbit.i18n.getResource(S+"device_"+t+"_"+e)},T=function(e){return fitbit.i18n.getResource(S+"battery_"+e)};var M=m(".wrapper-header").first();if(!M.data("fitbitHeaderInitialized")){M.data("fitbitHeaderInitialized",!0);var C=M.find(".wrapper-nav"),D=M.hasClass("nav-app"),E="active",A="subnav";D&&(A+=" subnav-app"),C.on("click",".nav > li",function(e){if(m(e.currentTarget).hasClass("nav-products"))e.preventDefault();else{var t=m(this).find("a").first().attr("href");t&&(e.preventDefault(),location.href=t)}}),t(),m(function(){r&&(/launchFlex101/.test(window.location.hash)||/launchFlex101/.test(window.location.search))?r():l&&(/launchForce101/.test(window.location.hash)||/launchForce101/.test(window.location.search))?l():o&&(/launchCharge101/.test(window.location.hash)||/launchCharge101/.test(window.location.search))?o():p&&(/launchSurge101/.test(window.location.hash)||/launchSurge101/.test(window.location.search))?p("surge"):p&&(/launchChargeHR101/.test(window.location.hash)||/launchChargeHR101/.test(window.location.search))?p("chargehr"):p&&(/launchBlaze101/.test(window.location.hash)||/launchBlaze101/.test(window.location.search))?p("blaze"):p&&(/launchFlex2101/.test(window.location.hash)||/launchFlex2101/.test(window.location.search))?p("flex2"):p&&(/launchAlta101/.test(window.location.hash)||/launchAlta101/.test(window.location.search))?p("alta"):p&&(/launchAltaHR101/.test(window.location.hash)||/launchAltaHR101/.test(window.location.search))?p("altahr"):p&&(/launchCharge2101/.test(window.location.hash)||/launchCharge2101/.test(window.location.search))?p("charge2"):p&&(/launchIonic101/.test(window.location.hash)||/launchIonic101/.test(window.location.search))?p("ionic"):p&&(/launchAria2101/.test(window.location.hash)||/launchAria2101/.test(window.location.search))?p("aria2"):c&&(/launchAria101/.test(window.location.hash)||/launchAria101/.test(window.location.search))?c():d&&(/launchZip101/.test(window.location.hash)||/launchZip101/.test(window.location.search))?d():h&&(/launchOne101/.test(window.location.hash)||/launchOne101/.test(window.location.search))?h():u&&/referrer=client/.test(window.location.search)&&u();var e=m(".wrapper-system-alerts");if(e.length){var t=".system-alert",i=e.find(t);i.find(".exit").one("click",function(){var a=m(this).closest(t),s={alertType:a.data("type"),deviceType:a.data("device")},r=JSON.stringify(s),l={request:JSON.stringify({template:"user/dash/alertResponse.json.jsp",serviceCalls:[{name:"alert",method:"processAlert",args:{action:"CLOSE",alert:r}}]}),csrfToken:window.fitbitCsrfToken};m.ajax({type:"post",url:"/ajaxapi",data:l,dataType:"json"}),a.trigger("destroy.systemAlert");var o=i.length>1?"fadeOut":"slideUp";a[o](function(){var i=a.next(t);i.length?i.fadeIn(function(){a.remove(),n(i),i.trigger("impression.systemAlert")}):e.slideUp(function(){e.remove(),setTimeout(function(){m("body").trigger("resetGlobalTimeSelector")},0)})})});var n=function(e){if(e){var t=e.first().data("cookie");if(t&&!/^\s*$/.test(t)){var i=new Date;i.setTime(i.getTime()+2629743830),document.cookie="system_alert="+t+"; expires="+i.toGMTString()+"; path=/;"}}},a=i.first();n(a);var s=function(e){if("string"==typeof e){var t=["_trackEvent","GlobalAlertProductReview-"+e];arguments.length>1&&(t=t.concat(Array.prototype.slice.call(arguments,1)));try{fitbit.util.deferredTrack(t)}catch(i){console&&console.log("header.js: 'fitbit.util.deferredTrack' is not available")}}};i.filter(".amazon-review").one("impression.systemAlert",function(){var e=m(this).data("device");s(e,"Display","Show")}).one("click contextmenu",".message a",function(e){var t=m(e.delegateTarget).data("device");s(t,"Click","LinkToAmazon")}).one("destroy.systemAlert",function(e){var t=m(e.target).data("device");s(t,"Click","CloseForever")}),i.filter(".newDashInvite").one("impression.systemAlert",function(){}),a.trigger("impression.systemAlert")}if(v){var f=C.find(".hasdropdown");f.each(function(e,t){function i(){o&&(clearTimeout(o),o=null),l&&(clearTimeout(l),l=null)}function n(){c=!1,i(),r&&r.isVisible()&&(l=setTimeout(function(){r.isMouseCursorInsideDropdown||c||(r.hide(),s.removeClass(E)),i()},200))}function a(){c=!0,i(),r&&(r.cancelHide(),r.isVisible()||(o=setTimeout(function(){r.show(),i()},350)))}var s=m(t),r=null,l=null,o=null,c=!1;s.one("mouseover",function(){r=new v(s,{className:A,catalystActiveClass:E,hideDelay:200,manualShowEnabled:!0}),r.render(s.find(".subnav-content").first()),a()}).on("mouseenter",a).on("mouseleave",n)})}var g=M.find(".nav-item-cart");g.length&&m(document.body).on("hideCartIcon.siteHeader",function(){g.hide()}).on("showCartIcon.siteHeader",function(){g.show()})}),!function(){var t=e("basicModal"),i=e("hbs!galileo/modal/template/holidayShipping")(),n=e("hbs!galileo/modal/template/holidayShippingTwoDay")(),a=e("hbs!galileo/modal/template/holidayShippingOneDay")(),s=e("hbs!galileo/modal/template/holidayShippingTooLate")(),r=m(".wrapper-header .holiday-banner.shop-holidays"),l=m(".wrapper-header .holiday-banner.two-day-shipping"),o=m(".wrapper-header .holiday-banner.one-day-shipping"),c=m(".wrapper-header .holiday-banner.too-late-shipping");r.click(function(){new t(i,500).trigger()}),l.click(function(){new t(n,500).trigger()}),o.click(function(){new t(a,500).trigger()}),c.click(function(){new t(s,500).trigger()})}(),m(document).ready(function(){if(n(),!window.location.pathname.endsWith("/home")){var e=m(".hdr-prod");if(e.length&&(m("#wrapper-footer .ftr-bottom").load(e.data("home")+window.location.search+" #footer .links-secondary > *"),"shown"!=localStorage.getItem("cookie-popup"))){var t=m("#cookie-popup");t.length&&t.load(e.data("home")+window.location.search+" #cookie-popup > *",function(){var e=m("#cookie-popup .cookie-content");m.getScript(e.data("system-js")).then(function(){m.getScript(e.data("system-config")).then(function(){System["import"](e.data("cookie-js"))})})})}}})}})}(),function(e,t){var i=function(e,t,i){var n;return function(){function a(){i||e.apply(s,r),n=null}var s=this,r=arguments;n?clearTimeout(n):i&&e.apply(s,r),n=setTimeout(a,t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",i(e)):this.trigger(t)}}(jQuery,"smartresize"),$(window).smartresize(function(){$(window).width()>1024&&$(".wrapper-header .hdr-menu > ul > li, .wrapper-header .hdr-menu").removeClass("active hoverDelay")})}).call(window)}]);
//# sourceMappingURL=fitbit-header.js.12c0246fb77af0c6a4bd6108e7c0ce01.js.map